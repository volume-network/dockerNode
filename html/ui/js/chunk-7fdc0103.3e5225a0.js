(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fdc0103"],{"04b6":function(t,e,n){"use strict";var a=n("e873"),s=n.n(a);s.a},"0ac3":function(t,e,n){},1637:function(t,e,n){},"186b":function(t,e,n){"use strict";var a=n("5999"),s=n.n(a);s.a},"1e48":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myaccount-transitions"},[n("div",{staticClass:"transitions__header"},[n("div",{staticClass:"header__left"},[n("i18n",{attrs:{path:"myaccount.totalBlock",tag:"span"}},[n("span",{attrs:{place:"total"}},[t._v(t._s(t.total))])])],1),n("div",{staticClass:"header__right hidden-xs-only"},[n("el-pagination",{attrs:{background:"","current-page":t.page,"page-size":t.limit,total:t.total,layout:"prev, pager, next, sizes, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"size-change":t.handleChangeCurrent,"current-change":t.handleChangeCurrent}})],1)]),n("div",{staticClass:"transitions__body"},[n("div",{staticClass:"transition"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBlock,expression:"loadingBlock"}],staticClass:"vs-main-bhr-table",staticStyle:{"font-size":"14px"},attrs:{"header-cell-style":{fontWeight:"normal",fontSize:"14px"},"span-method":t.arraySpanMethod,"row-class-name":t.addRowClassName,data:t.blockData}},[n("el-table-column",{attrs:{prop:"height",label:t.$t("blockTran.Height"),width:"180",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:"/block/"+e.row.block}},[n("div",{staticClass:"color-text-button-primary"},[t._v(t._s(t._f("toThousand")(e.row.height)))])])]}}])}),n("el-table-column",{attrs:{prop:"timestamp",label:t.$t("blockTran.Time"),align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.timeLittle(e.row.timestamp)?n("div",[t._v(t._s(t.timeLittle(e.row.timestamp))+" "+t._s(t.$t("home.SecondAgo")))]):n("div",[t._v("\n                "+t._s(t.$vmoment(e.row.timestamp).fromNow())+"\n              ")])]}}])}),n("el-table-column",{attrs:{prop:"generatorRS",width:"260",align:"center",label:t.$t("blockTran.Forger")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:"/account/"+e.row.generatorRS}},[n("div",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.generatorRS))])])]}}])}),n("el-table-column",{attrs:{prop:"totalFeeNQT",width:"150",align:"center",label:t.$t("blockTran.TotalFees")+"(VOL)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t._f("toThousand")(t._f("toFixed1")(t._f("formatVol")(e.row.totalFeeNQT))))+"\n            ")]}}])}),n("el-table-column",{attrs:{prop:"blockReward",width:"200",align:"center",label:t.$t("blockTran.BlockReward")+"(VOL)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t._f("toThousand")(t._f("toFixed1")(t._f("formatVol")(e.row.blockReward))))+"\n            ")]}}])}),n("el-table-column",{attrs:{width:"200",prop:"blockBonus",align:"right",label:t.$t("blockTran.BlockEarningAll")+"(VOL)"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(t._f("toThousands")(t._f("formatVol")(e.row.blockBonus))))])]}}])})],1)],1)]),n("el-pagination",{staticClass:"hidden-sm-and-up",attrs:{background:"",small:!0,"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5,layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"size-change":t.handleSizeChange,"current-change":t.handleChangeCurrent}})],1)},s=[],i=n("365c"),r=n("c6e6"),o=n("f195"),c=n("aff9"),l=n("cf45"),u={name:"BlockList",props:{requestType:{type:String,required:!0,validator:function(t){return"pool"===t||"account"===t}},account:{type:String,required:!1},block:{type:String,required:!1}},data:function(){return{loadingBlock:!1,transactionList:[],blockData:[],loading:!1,total:0,limit:20,page:1}},computed:{limit_recipient:function(){return 4}},created:function(){var t=this;this._getBlockList(),o["a"].$on("upData",function(){t._getBlockList()})},beforeDestroy:function(){o["a"].$off("upData")},methods:{timeLittle:function(t){var e="",n=this.$moment().format("X"),a=this.$vmoment(t).format("X");return n-a<60&&(e=(n-a).toString()),e},_getBlockList:function(){var t=this;this.loadingBlock=!0;var e={requestType:"getBlockList",limit:this.limit,page:this.page};"pool"===this.requestType?e["pool"]=this.account:"account"===this.requestType&&(e["account"]=this.account),Object(r["a"])(e).then(function(e){0===e.errCode&&(t.blockData=e.data.data),t.total=e.data.total}).finally(function(){t.loadingBlock=!1})},getTransactionList:function(t){var e=this;t||(this.loading=!0);var n={page:this.page,limit:this.limit};this.account&&(n["account"]=this.account),this.block&&(n["block"]=this.block),Object(i["n"])(n).then(function(t){var n=t.data;n=void 0===n?{}:n;var a=n.data,s=a.data,i=void 0===s?[]:s,r=a.total,o=void 0===r?0:r;i=Object(l["c"])(i,e.$i18n.locale),e.transactionList=i.map(function(t){if(t.showAll=!1,1===t.subtype&&(t.recipients=t.attachment.recipients.map(function(t){return{accountId:t[0],accountRS:c["a"].createAddressByAccountId(t[0]),amountNQT:t[1]}})),2===t.subtype)if(t.attachment.recipients){var e=t.amountNQT/t.attachment.recipients.length;t.recipients=t.attachment.recipients.map(function(t){return{accountId:t,accountRS:c["a"].createAddressByAccountId(t),amountNQT:e}})}else t.recipients=[];return t}).reduce(function(t,e){return t.push({rowType:"TIME",blockTimestamp:e.blockTimestamp||e.timestamp,type:e.type,feeNQT:e.feeNQT}),t.push(e),t},[]),e.total=o}).finally(function(){e.loading=!1})},handleSizeChange:function(t){this._getBlockList()},handleChangeCurrent:function(t){this._getBlockList()},arraySpanMethod:function(t){var e=t.row,n=(t.column,t.rowIndex,t.columnIndex);if("TIME"===e.rowType){if(0===n)return[1,4];if(1===n)return[1,3];if(2===n)return[0,0]}},addRowClassName:function(t){var e=t.row;return"TIME"===e.rowType?"row__time":"THEAD"===e.rowType?"row__thead":""}},watch:{account:function(){this.getTransactionList()}}},d=u,m=(n("450b"),n("2877")),p=Object(m["a"])(d,a,s,!1,null,"68da4913",null);e["a"]=p.exports},"28e8":function(t,e,n){"use strict";var a=n("7342"),s=n.n(a);s.a},"2c43":function(t,e,n){"use strict";var a=n("3426"),s=n.n(a);s.a},"2c9d":function(t,e,n){},3426:function(t,e,n){},"432f":function(t,e,n){"use strict";var a=n("1637"),s=n.n(a);s.a},"450b":function(t,e,n){"use strict";var a=n("871f"),s=n.n(a);s.a},"4e93":function(t,e,n){},5999:function(t,e,n){},"5afd":function(t,e,n){"use strict";var a=n("e448"),s=n.n(a);s.a},"68ab":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myaccount-transitions"},[n("div",{staticClass:"transitions__header"},[n("div",{staticClass:"header__left"},[t.title?n("h6",[t._v(t._s(t.$t("blockTran.Transaction")))]):t._e(),n("i18n",{attrs:{path:"myaccount.totalTxs",tag:"span"}},[n("span",{attrs:{place:"total"}},[t._v(t._s(t.total))])])],1),n("div",{staticClass:"header__right hidden-xs-only"},[n("el-pagination",{attrs:{background:"","current-page":t.page,"page-size":t.limit,total:t.total,layout:"prev, pager, next, sizes, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"size-change":t.handleChangeCurrent,"current-change":t.handleChangeCurrent}})],1)]),n("div",{staticClass:"transitions__body"},[n("div",{staticClass:"transition"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"transition__body",staticStyle:{},attrs:{data:t.transactionList,"span-method":t.arraySpanMethod,"row-class-name":t.addRowClassName}},[n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"fullHash",align:"left",label:t.$t("myaccount.hash"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?[n("div",{staticClass:"time__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Time"))+"：")]),n("span",{staticClass:"font-color__long"},[t._v(t._s(t._f("vmoment")(e.row.blockTimestamp)))])])]:[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("myaccount.hash")))]),e.row.unconfirmedTransactions?n("span",{staticClass:"pending"},[t._v(t._s(e.row.fullHash))]):n("router-link",{attrs:{to:"/tx/"+e.row.transaction}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.fullHash))])])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"feeNQT",align:"center",label:t.$t("blockTran.Fee")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span",[n("div",{staticClass:"thead__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Fee"))+"：")]),t._v("\n                  "+t._s(t._f("toThousands")(t._f("formatVol")(e.row.feeNQT)))+" VOL\n                ")])]):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.TransactionType")))]),n("span",[t._v(" "+t._s(e.row.txType))])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"block",align:"center",label:t.$t("blockTran.Block")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?[n("div",{staticClass:"thead__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Fee"))+"：")]),t._v("\n                  "+t._s(t._f("toThousands")(t._f("formatVol")(e.row.feeNQT)))+" VOL\n                ")])]:[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Block")))]),e.row.unconfirmedTransactions?n("span",{staticClass:"pending"},[t._v("(pending)")]):n("router-link",{attrs:{to:"/block/"+e.row.block}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.block))])])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"confirmations",align:"center",width:"80",label:t.$t("blockTran.Confirmations")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Confirmations")))]),e.row.unconfirmedTransactions?n("span",[t._v("未确认")]):n("span",[t._v(t._s(e.row.confirmations))])]]}}])}),n("el-table-column",{attrs:{prop:"senderRS",align:"center",width:"240",label:t.$t("blockTran.Sender")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Sender")))]),n("div",[[[e.row.senderRS,e.row.sender].includes(t.account)?n("span",[t._v(t._s(e.row.senderRS))]):n("router-link",{attrs:{to:"/account/"+e.row.senderRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.senderRS))])])]],2)]]}}])}),n("el-table-column",{attrs:{prop:"recipientRS",align:"center",width:"300",label:t.$t("blockTran.Recipient")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Recipient")))]),e.row.recipient||e.row.attachment.recipients?t._e():n("div",[t._v("-")]),[1,2].includes(e.row.subtype)?n("div",[t._l(e.row.recipients,function(a,s){return n("div",{key:a.accountRS,staticClass:"address__wrap"},[e.row.showAll||s<t.limit_recipient?[[a.accountRS,a].includes(t.account)?n("span",[t._v(t._s(a.accountRS))]):n("router-link",{attrs:{to:"/account/"+a.accountRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(a.accountRS))])])]:t._e()],2)}),n("div",{staticClass:"button-more__wrap"},[e.row.recipients.length>t.limit_recipient?n("el-button",{attrs:{size:"mini",plain:""},on:{click:function(t){e.row.showAll=!e.row.showAll}}},[t._v("\n                      "+t._s(e.row.showAll?"隐藏":"更多")+"\n                      "),n("i",{staticClass:"el-icon-arrow-down"})]):t._e()],1)],2):[[e.row.recipientRS,e.row.recipient].includes(t.account)?n("span",{staticClass:"address__wrap"},[t._v(t._s(e.row.recipientRS))]):n("router-link",{staticClass:"address__wrap",attrs:{to:"/account/"+e.row.recipientRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.recipientRS))])])],n("vs-icon",{staticClass:"vs-icon-right",attrs:{name:"to"}})]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"amountNQT",align:"right",label:t.$t("blockTran.Amount")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Amount")))]),1==e.row.type&&2==e.row.subtype?n("span",[t._v("-")]):t._e(),[1,2].includes(e.row.subtype)?n("div",t._l(e.row.recipients,function(e){return n("div",{key:e.accountRS},[n("span",[t._v(t._s(t._f("toThousand")(t._f("toFixed1")(t._f("formatVol")(e.amountNQT))))+" VOL")])])}),0):n("span",[t._v(t._s(t._f("toThousand")(t._f("toFixed1")(t._f("formatVol")(e.row.amountNQT))))+" VOL")])]]}}])})],1)],1)]),n("el-pagination",{staticClass:"hidden-sm-and-up",attrs:{background:"",small:!0,"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5,layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"size-change":t.handleChangeCurrent,"current-change":t.handleChangeCurrent}})],1)},s=[],i=n("365c"),r=n("f195"),o=n("aff9"),c=n("cf45"),l=n("07a4"),u={name:"MyAccountTransitions",props:{title:{type:Boolean,default:function(){return!0}},account:{type:String,required:!1},block:{type:String,required:!1}},data:function(){return{transactionList:[],loading:!1,total:0,limit:20,page:1}},computed:{limit_recipient:function(){return 4}},created:function(){var t=this;this.$store.state.accountOverview.isActive&&"MyAccount"===this.$route.name?(l["a"].dispatch("getAccountOverview"),this.getTransactionList()):"MyAccount"!==this.$route.name&&this.getTransactionList(),r["a"].$on("quickRefresh",function(){"MyAccount"!==t.$route.name&&t.getTransactionList(!0)}),r["a"].$on("updateTransactionList",function(){t.$store.state.accountOverview.isActive&&"MyAccount"===t.$route.name&&t.getTransactionList(!0)})},beforeDestroy:function(){r["a"].$off("updateTransactionList"),r["a"].$off("quickRefresh")},methods:{getTransactionList:function(t){var e=this;t||(this.loading=!0);var n={page:this.page,limit:this.limit};this.account&&(n["account"]=this.account),this.block&&(n["block"]=this.block),Object(i["n"])(n).then(function(t){var n=t.data;n=void 0===n?{}:n;var a=n.data,s=a.data,i=void 0===s?[]:s,r=a.total,l=void 0===r?0:r;i=Object(c["c"])(i,e.$i18n.locale),e.transactionList=i.map(function(t){if(t.showAll=!1,1===t.subtype&&(t.recipients=t.attachment.recipients.map(function(t){return{accountId:t[0],accountRS:o["a"].createAddressByAccountId(t[0]),amountNQT:t[1]}})),2===t.subtype)if(t.attachment.recipients){var e=t.amountNQT/t.attachment.recipients.length;t.recipients=t.attachment.recipients.map(function(t){return{accountId:t,accountRS:o["a"].createAddressByAccountId(t),amountNQT:e}})}else t.recipients=[];return t}).reduce(function(t,e){return t.push({rowType:"TIME",blockTimestamp:e.blockTimestamp||e.timestamp,type:e.type,feeNQT:e.feeNQT}),t.push(e),t},[]),e.total=l}).finally(function(){e.loading=!1})},handleChangeCurrent:function(t){this.getTransactionList()},arraySpanMethod:function(t){var e=t.row,n=(t.column,t.rowIndex,t.columnIndex);if("TIME"===e.rowType){if(0===n)return[1,4];if(1===n)return[1,3];if(2===n)return[0,0]}},addRowClassName:function(t){var e=t.row;return"TIME"===e.rowType?"row__time":"THEAD"===e.rowType?"row__thead":""}},watch:{account:function(){this.getTransactionList()},block:function(){this.getTransactionList()}}},d=u,m=(n("a053"),n("2877")),p=Object(m["a"])(d,a,s,!1,null,"44aac8f8",null);e["a"]=p.exports},7342:function(t,e,n){},8581:function(t,e,n){},"871f":function(t,e,n){},"8a6e":function(t,e,n){"use strict";var a=n("2c9d"),s=n.n(a);s.a},"9bbf":function(t,e,n){"use strict";var a=n("fbb1"),s=n.n(a);s.a},a053:function(t,e,n){"use strict";var a=n("8581"),s=n.n(a);s.a},a58b:function(t,e,n){"use strict";var a=n("4e93"),s=n.n(a);s.a},c13e:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"received"},[n("span",{staticClass:"received-title",attrs:{text:t.topTitle}},[t._v(t._s(t.topTitle))]),n("div",{staticClass:"received-qrcode__wrap"},[n("vs-qrcode",{attrs:{text:t.address}})],1),n("span",{staticClass:"received-address"},[t._v(t._s(t.address))]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.address,expression:"address",arg:"copy"}],staticClass:"received-button",attrs:{type:"text"}},[t._v(t._s(t.$t("myaccount.copyAddress")))])],1)},s=[],i={name:"Received",props:{address:{type:String,required:!0},topTitle:{type:String,required:!1}}},r=i,o=(n("5afd"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"38d24f10",null);e["a"]=c.exports},c6e6:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("0189");function s(t){return new Promise(function(e,n){a["a"].get("/vol",{params:t}).then(function(t){e(t.data)}).catch(function(t){n(t),console.log(t)})})}},d8e4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-container",{staticClass:"vs-container"},[n("vs-header",{attrs:{title:t.$t("header.account"),subTip:""}},[1===+t.$store.state.accountOverview.accountRole?n("div",{attrs:{slot:"subTip"},slot:"subTip"},[n("span",{staticStyle:{padding:"10px"}},[t._v("•")]),n("div",{staticClass:"mptag"},[t._v(t._s(t.$t("header.mprn")))])]):t._e()]),n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.accountLoading,expression:"$store.state.accountLoading"}],staticClass:"myaccount-overview__wrap",attrs:{gutter:6}},[n("el-col",{attrs:{xs:24,sm:12}},[n("MyAccountOverviewLeft",{staticClass:"myaccount-overview",on:{clickButton:t.clickLeftButton}})],1),n("el-col",{attrs:{xs:24,sm:12}},[n("MyAccountOverviewRight",{staticClass:"myaccount-overview myaccount-overview__chart",attrs:{balance:t.balance,"total-balance":t.$store.getters.formattedAccountOverview.totalBalance},on:{handleBalance:t.handleBalance}})],1)],1),t.$store.state.account.address?[n("vs-main",{staticClass:"vs-main"},[n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:t.$t("myaccount.transaction"),name:"first"}},[n("MyAccountTransitions",{attrs:{title:!1,account:t.$store.state.account.address}})],1),n("el-tab-pane",{attrs:{label:t.$t("myaccount.blockList"),name:"second"}},[n("BlockList",{attrs:{requestType:"account",account:t.$store.state.account.accountId}})],1)],1)],1)]:t._e(),n("el-dialog",{attrs:{width:t.pledgeDialogWidth,visible:t.isShowPledgeDialog,"show-close":[t.currentPledgeComponent].includes("Received"),"destroy-on-close":!0,"close-on-click-modal":[t.currentPledgeComponent].includes("Received"),"custom-class":"vs-dialog"},on:{"update:visible":function(e){t.isShowPledgeDialog=e}}},[n(t.currentPledgeComponent,{tag:"component",attrs:{topTitle:t.$t("myaccount.receive"),address:t.$store.state.account.address},model:{value:t.isShowPledgeDialog,callback:function(e){t.isShowPledgeDialog=e},expression:"isShowPledgeDialog"}})],1)],2)},s=[],i=n("a34a"),r=n.n(i),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-main",{staticClass:"myaccount-overview__left"},[n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v("\n      "+t._s(t.$t("myaccount.totalBalance"))+"\n    ")]),n("div",{staticClass:"font--big"},[t._v("\n      "+t._s(t._f("toThousands")(t._f("formatVol")(t.accountOverview.totalBalance)))+" VOL\n    ")])]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.address")))]),n("div",{staticClass:"v-center"},[n("router-link",{attrs:{to:"/account/"+t.account.accountId}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(t.account.address))])]),n("vs-icon",{staticClass:"vs-qr-code",attrs:{name:"vs_qr_code"},nativeOn:{click:function(e){return t.$emit("clickButton","RECEIVE")}}}),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.account.address,expression:"account.address",arg:"copy"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary",attrs:{size:"mini",plain:""}},[t._v("\n        "+t._s(t.$t("myaccount.copy"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v("\n      "+t._s(t.$t("account.Account"))+" ID\n    ")]),n("div",{staticClass:"v-center"},[n("router-link",{attrs:{to:"/account/"+t.account.accountId}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(t.account.accountId))])]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.account.accountId,expression:"account.accountId",arg:"copy"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary",attrs:{size:"mini",plain:""}},[t._v("\n        "+t._s(t.$t("myaccount.copy"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v("\n      "+t._s(t.$t("myaccount.publicKey"))+"\n    ")]),n("div",{staticClass:"v-center text-wrap"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.account.publicKey,placement:"top-start"}},[n("span",{staticClass:"ws-to"},[t._v(t._s(t.account.publicKey))])]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.account.publicKey,expression:"account.publicKey",arg:"copy"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary",attrs:{size:"mini",plain:""}},[t._v("\n        "+t._s(t.$t("myaccount.copy"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.name")))]),n("div",{staticClass:"v-center"},[n("span",{staticClass:"font-color__secondary not-set"},[t._v(t._s(t.accountOverview.name||t.$t("myaccount.unNamed")))]),n("el-button",{staticClass:"vs-mini-button no-border font-color__button-primary",attrs:{size:"mini"},on:{click:function(e){return t.$emit("clickButton","SET_NAME")}}},[t._v(t._s(t.$t("myaccount.setName"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v("\n      "+t._s(t.$t("myaccount.transfers"))+"\n    ")]),n("TransitionNumbers")],1),n("div",{staticClass:"myaccount-overview__group myaccount-overview__footer"},[n("TransitionButtons",{staticClass:"transition-buttons",on:{click:function(e){return t.$emit("clickButton",e)}}})],1)])},c=[],l=n("4d7c"),u=n("90e2"),d=n("5880");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach(function(e){f(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={name:"MyAccountOverviewLeft",components:{TransitionButtons:u["a"],TransitionNumbers:l["a"]},computed:p({},Object(d["mapState"])(["accountOverview","account"]))},h=v,_=(n("186b"),n("2877")),g=Object(_["a"])(h,o,c,!1,null,"976f3186",null),b=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-main",{staticClass:"myaccount-overview__right"},[n("div",{staticClass:"vs-echarts__wrap"},[n("div",{ref:"echarts_container",staticClass:"vs-echarts__container"}),n("div",{staticClass:"vs-legend__wrap"},[n("div",{staticClass:"vs-legend__container"},t._l(Object.values(t.balance),function(e,a){return n("div",{key:e.key,staticClass:"vs-legend",class:["vs-legend--"+t.$i18n.locale]},[t.isMobile?n("span",{staticClass:"vs-legend__val"},[t._v(t._s(t._f("toThousands")(e.value))),n("span",{staticClass:"hidden-xs-only"},[t._v(" VOL")])]):t._e(),n("el-button",{staticClass:"vs-legend__button vs-mini-button no-border font-color__button-primary",class:["vs-legend__button--"+a,"vs-legend__button--"+t.$i18n.locale],attrs:{size:"mini",plain:""},on:{click:function(n){return t.handleBalance(e)}}},[t._v("\n            "+t._s(e.btnLabel)+"\n          ")])],1)}),0)])])])},w=[],C=n("164e"),k=n.n(C),T=n("51e6"),$=["#9cce05","#f6ac05","#f95904"],x={name:"MyAccountOverviewLeft",props:{balance:{type:Object,required:!0},totalBalance:{type:[String,Number],required:!0}},data:function(){return{isInitECharts:!1}},computed:{isMobile:function(){return Object(T["a"])()},balanceByName:function(){return Object.values(this.balance).reduce(function(t,e){return t[e.name]=e,t},{})},options:function(){var t=this;return{title:{text:"".concat(this.$t("myaccount.totalBalance"),"(VOL)"),subtext:"".concat(this.$numeral(this.totalBalance).format("0,0.0")),x:"26.8%",y:"38%",textAlign:"center",padding:[24,0],textStyle:{color:"#888EAE",fontSize:14,align:"center"},subtextStyle:{fontSize:18,color:["#1E1E1E"],fontWeight:"bold"}},tooltip:{trigger:"item",formatter:function(e){return"".concat(e.name,": ").concat(t.$numeral(e.value).format("0,0.0")," (").concat(e.percent,"%)")}},legend:{orient:"vertical",icon:"circle",left:"50%",top:"18%",align:"left",data:Object.values(this.balance).map(function(t){return t.name}),formatter:function(e){return"\n\n{title|"+e+"}\n\n{value|"+t.$numeral(t.balanceByName[e].value).format("0,0.0[00000000]")+" VOL}"},itemWidth:10,itemHeight:10,borderRadius:5,itemGap:8,padding:8,textStyle:{rich:{title:{fontSize:12,lineHeight:12,color:"#888EAE"},value:{fontSize:16,lineHeight:13,color:"#1E1E1E"}}}},series:[{name:"",type:"pie",radius:["47.2%","55%"],center:["26.8%","50%"],avoidLabelOverlap:!1,hoverAnimation:!0,color:$,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:Object.values(this.balance)}]}},mobileOptions:function(){return{title:{text:"".concat(this.$t("myaccount.totalBalance"),"(VOL)"),subtext:"".concat(this.$numeral(this.totalBalance).format("0,0.0")),x:"50%",y:"18%",textAlign:"center",padding:[24,0],textStyle:{color:"#888EAE",fontSize:12,align:"center"},subtextStyle:{fontSize:18,color:["#1E1E1E"],fontWeight:"bold"}},tooltip:!1,legend:{icon:"circle",top:"63%",data:Object.values(this.balance).map(function(t){return t.name}),formatter:function(t){return"{title|"+t+"}"},itemWidth:10,itemHeight:10,borderRadius:5,itemGap:45,padding:8,textStyle:{rich:{title:{fontSize:12,lineHeight:10,color:"#888EAE"}}}},series:[{name:"",type:"pie",radius:["44.4%","37%"],center:["50%","33%"],avoidLabelOverlap:!1,hoverAnimation:!0,color:$,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:Object.values(this.balance)}]}}},mounted:function(){var t=this.$refs.echarts_container;t&&(this.initECharts(),this.isInitECharts=!0)},updated:function(){this.isInitECharts||(this.initECharts(),this.isInitECharts=!0)},watch:{balance:{deep:!0,handler:function(){this.setEchartsOptions()}}},methods:{initECharts:function(){var t=this.$refs.echarts_container;this.echarts=k.a.init(t),this.setEchartsOptions()},setEchartsOptions:function(){this.echarts.setOption(Object(T["a"])()?this.mobileOptions:this.options)},handleBalance:function(t){this.$emit("handleBalance",t)}}},S=x,O=(n("9bbf"),Object(_["a"])(S,y,w,!1,null,"0808a06c",null)),A=O.exports,F=n("68ab"),B=n("1e48"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{errmsg:t.errmsg,result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.stake")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",{attrs:{prop:"address"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.errorAddressTips")},model:{value:t.pledgeForm.address,callback:function(e){t.$set(t.pledgeForm,"address",e)},expression:"pledgeForm.address"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.stakeTo")))]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{attrs:{prop:"value"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:t.pledgeForm.value,callback:function(e){t.$set(t.pledgeForm,"value",e)},expression:"pledgeForm.value"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.amount")))]),n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:t.clickMaxButton}},[t._v("MAX")])]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{step:.1,min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(" "+t._s(t.$t("myaccount.stake")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(" "+t._s(t.$t("myaccount.cancel")))])],1),n("div",{staticClass:"footer__tips footer__tips--bottom"},[t._v("\n        "+t._s(t.$t("myaccount.stakeTips"))+"\n      ")])])],1)],1)},L=[],N=n("901e"),M=n.n(N),P=n("f121"),R={props:{value:{type:Boolean,required:!0}},methods:{hideModal:function(){this.$emit("input",!1)}}},j=n("aff9"),z=n("5f72"),I=n("365c"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("div",{staticClass:"result-icon__wrap",class:{success:"success"===t.result}},["success"===t.result?n("i",{staticClass:"el-icon-check"}):n("i",{staticClass:"el-icon-close"})]),""!==t.errmsg&&t.gitMerrMg(t.errmsg)?n("span",{staticClass:"result-content"},[t._v(t._s(t.gitMerrMg(t.errmsg)))]):n("span",{staticClass:"result-content"},[t._v(t._s("success"===t.result?t.$t("myaccount.broadcastSuccess"):t.$t("myaccount.broadcastFail")))]),n("el-button",{staticClass:"result-button",attrs:{type:"primary"},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("myaccount.close")))])],1)},V=[],Q=n("9225"),q=n("0bd9"),K={name:"Result",props:{errmsg:{type:String,default:"",required:!1},title:{type:String,required:!0},result:{type:String,default:"success"}},methods:{gitMerrMg:function(t){var e="";return q["a"][t]&&(e=q["a"][t][Q["a"].locale]),e}}},H=K,U=(n("f965"),Object(_["a"])(H,D,V,!1,null,"793ee35c",null)),W=U.exports,J={components:{Result:W},data:function(){return{disabledSendButton:!1,isSubmit:!1,result:"",resultTitle:""}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview}},methods:{send:function(){var t=this;this.$refs.sendForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.submit()})},broadcastTransaction:function(t){var e=this,n=j["a"].signBytes(t,this.$store.state.account.mnemonic),a=j["a"].verifyBytes(n,t,this.$store.state.account.publicKey);if(a){var s=j["a"].signTransactionBytes(t,n);return new Promise(function(t,n){I["c"]({transactionBytes:s}).then(function(n){e.$store.dispatch("getAccountOverview"),t(n)}).catch(n)})}Object(z["Message"])({showClose:!0,message:"签名验证未通过",type:"error"})}}};function X(t,e,n,a,s,i,r){try{var o=t[i](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,s)}function G(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function r(t){X(i,a,s,r,o,"next",t)}function o(t){X(i,a,s,r,o,"throw",t)}r(void 0)})}}var Z={name:"Pledge",mixins:[R,J],data:function(){return{errmsg:"",pledgeForm:{address:"",value:null,fee:1}}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview},maxSliderVal:function(){return new M.a(this.formattedAccountOverview.balanceNQT).minus(null===this.pledgeForm.value?0:this.pledgeForm.value).toNumber()},rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputStakedAddress"),trigger:"blur"},{pattern:/VOL-[a-zA-Z0-9-]+$/,message:this.$t("myaccount.addressTips")}],value:[{required:!0,message:this.$t("myaccount.emptyAddress"),trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:this.$t("myaccount.inputFloatNumber")}]}}},methods:{clickMaxButton:function(){var t=this.pledgeForm.fee;this.pledgeForm.value=new M.a(this.formattedAccountOverview.balanceNQT).minus(t).toString()},submit:function(){var t=G(r.a.mark(function t(){var e,n,a,s,i,o,c,l,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.address,a=e.fee,s=e.value,i={amountNQT:new M.a(s).times(P["a"].accuracy).toString(),recipient:n,publicKey:this.$store.state.account.publicKey,feeNQT:new M.a(a).times(P["a"].accuracy).toString(),deadline:P["a"].deadline},this.disabledSendButton=!0,t.prev=3,t.next=6,I["p"](i,I["b"].setPledges);case 6:return o=t.sent,c=o.data,c=void 0===c?{}:c,l=c.unsignedTransactionBytes,u=c.transactionJSON,t.next=12,this.broadcastTransaction(l,u);case 12:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.stakedSuccessful"),t.next=24;break;case 17:t.prev=17,t.t0=t["catch"](3),this.errmsg=t.t0.data.errorDescription,this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.stakeFailed"),console.error(t.t0);case 24:return t.prev=24,this.disabledSendButton=!1,t.finish(24);case 27:case"end":return t.stop()}},t,this,[[3,17,24,27]])}));function e(){return t.apply(this,arguments)}return e}()}},Y=Z,tt=(n("8a6e"),Object(_["a"])(Y,E,L,!1,null,"d8596b94",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{errmsg:t.errmsg,result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.unstake")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",[n("div",{staticClass:"vs-form__item"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.stakeTo")))]),n("span",[t._v(t._s(t.formattedAccountOverview.minePoolRS))])])]),n("el-form-item",{attrs:{prop:"value"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:t.pledgeForm.value,callback:function(e){t.$set(t.pledgeForm,"value",e)},expression:"pledgeForm.value"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.amount")))]),n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:t.clickMaxButton}},[t._v("MAX")])]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{step:.1,min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"footer__tips"},[n("i18n",{attrs:{path:"myaccount.drawTips"}},[n("span",{attrs:{place:"date"}},[t._v(t._s(t.vTime))])])],1),n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.unstake")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},at=[];function st(t,e,n,a,s,i,r){try{var o=t[i](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,s)}function it(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function r(t){st(i,a,s,r,o,"next",t)}function o(t){st(i,a,s,r,o,"throw",t)}r(void 0)})}}var rt={name:"UnPledge",mixins:[R,J],data:function(){return{errmsg:"",pledgeForm:{value:null,fee:1}}},computed:{vTime:function(){if(!this.formattedAccountOverview.withdrawTime||String(this.formattedAccountOverview.withdrawTime).length>10){var t=(new Date).getTime()+12096e5;return this.$moment(t).format("LL")}return this.$vmoment(this.formattedAccountOverview.withdrawTime).format("LL")},formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview},maxSliderVal:function(){return new M.a(this.formattedAccountOverview.balanceNQT).toNumber()},rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputStakedAddress"),trigger:"blur"},{pattern:/VOL-[a-zA-Z0-9-]+$/,message:this.$t("myaccount.addressTips")}],value:[{required:!0,message:this.$t("myaccount.emptyNumber"),trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:this.$t("myaccount.inputFloatNumber")}]}}},methods:{clickMaxButton:function(){this.pledgeForm.value=new M.a(this.formattedAccountOverview.totalPledged).toString()},submit:function(){var t=it(r.a.mark(function t(){var e,n,a,s,i,o,c,l;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.fee,a=e.value,s={amountNQT:new M.a(a).times(P["a"].accuracy).toString(),publicKey:this.$store.state.account.publicKey,feeNQT:new M.a(n).times(P["a"].accuracy).toString(),deadline:P["a"].deadline},this.disabledSendButton=!0,t.prev=3,t.next=6,I["p"](s,I["b"].setUnpledges);case 6:return i=t.sent,o=i.data,o=void 0===o?{}:o,c=o.unsignedTransactionBytes,l=o.transactionJSON,t.next=12,this.broadcastTransaction(c,l);case 12:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.unstakedSuccessful"),t.next=24;break;case 17:t.prev=17,t.t0=t["catch"](3),this.errmsg=t.t0.data.errorDescription,this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.unstakedFailed"),console.error(t.t0);case 24:return t.prev=24,this.disabledSendButton=!1,t.finish(24);case 27:case"end":return t.stop()}},t,this,[[3,17,24,27]])}));function e(){return t.apply(this,arguments)}return e}()}},ot=rt,ct=(n("28e8"),Object(_["a"])(ot,nt,at,!1,null,"0a2a66f3",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{errmsg:t.errmsg,result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.draw")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",[n("div",{staticClass:"vs-form__item"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.available")))]),n("span",[t._v(t._s(t.formattedAccountOverview.totalUnpledged)+" VOL")])])]),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{step:.1,min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"footer__tips"},[t.countdownText?t._e():n("span",[t._v("\n            "+t._s(t.$t("myaccount.unstakeTips"))+"\n          ")])]),n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary",disabled:!!t.countdownText},on:{click:t.send}},[t.countdownText?n("span",[t._v("\n              "+t._s(String(Math.floor(t.countdownText/1e3/60/60)).padStart(2,"0"))+":"+t._s(String(Math.floor(t.countdownText/1e3/60%60)).padStart(2,"0"))+":"+t._s(String(Math.floor(t.countdownText/1e3%60)).padStart(2,"0"))+"\n            ")]):n("span",[t._v(t._s(t.$t("myaccount.draw")))])]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},dt=[];function mt(t,e,n,a,s,i,r){try{var o=t[i](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,s)}function pt(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function r(t){mt(i,a,s,r,o,"next",t)}function o(t){mt(i,a,s,r,o,"throw",t)}r(void 0)})}}var ft={name:"Extract",mixins:[R,J],data:function(){return{errmsg:"",pledgeForm:{address:"",fee:1},countdownText:null}},computed:{rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputAddress"),trigger:"blur"},{pattern:/VOL-[a-zA-Z0-9-]+$/,message:this.$t("myaccount.addressTips")}],value:[{required:!0,message:this.$t("myaccount.inputAmount"),trigger:"change"}]}}},created:function(){this.countdown()},beforeDestroy:function(){this.countdownTimeout&&clearTimeout(this.countdownTimeout)},methods:{submit:function(){var t=pt(r.a.mark(function t(){var e,n,a,s,i,o;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm.fee,n={amountNQT:new M.a(this.formattedAccountOverview.totalUnpledged).times(P["a"].accuracy).toString(),publicKey:this.$store.state.account.publicKey,feeNQT:new M.a(e).times(P["a"].accuracy).toString(),deadline:P["a"].deadline},this.disabledSendButton=!0,t.prev=3,t.next=6,I["p"](n,I["b"].withdrawPledges);case 6:return a=t.sent,s=a.data,s=void 0===s?{}:s,i=s.unsignedTransactionBytes,o=s.transactionJSON,t.next=12,this.broadcastTransaction(i,o);case 12:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.drawSuccessful"),t.next=24;break;case 17:t.prev=17,t.t0=t["catch"](3),this.errmsg=t.t0.data.errorDescription,this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.drawFailed"),console.error(t.t0);case 24:return t.prev=24,this.disabledSendButton=!1,t.finish(24);case 27:case"end":return t.stop()}},t,this,[[3,17,24,27]])}));function e(){return t.apply(this,arguments)}return e}(),countdown:function(){var t=this,e=this.$vmoment(this.formattedAccountOverview.withdrawTime).isAfter(this.$moment());e?(this.countdownText=this.$vmoment(this.formattedAccountOverview.withdrawTime).diff(this.$moment()),this.countdownTimeout=setTimeout(function(){t.countdown()},1e3)):(this.countdownText=null,this.countdownTimeout&&clearTimeout(this.countdownTimeout))}}},vt=ft,ht=(n("04b6"),Object(_["a"])(vt,ut,dt,!1,null,"1ae0ce28",null)),_t=ht.exports,gt=n("c13e"),bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{errmsg:t.errmsg,result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.setName")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{size:"small",placeholder:"输入名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)}},model:{value:t.pledgeForm.name,callback:function(e){t.$set(t.pledgeForm,"name",e)},expression:"pledgeForm.name"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.name")))]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{step:.1,min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.ok")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},yt=[];function wt(t,e,n,a,s,i,r){try{var o=t[i](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,s)}function Ct(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function r(t){wt(i,a,s,r,o,"next",t)}function o(t){wt(i,a,s,r,o,"throw",t)}r(void 0)})}}var kt={name:"Pledge",mixins:[R,J],data:function(){return{errmsg:"",pledgeForm:{name:"",fee:1},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]}}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview}},methods:{submit:function(){var t=Ct(r.a.mark(function t(){var e,n,a,s,i,o,c,l;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.name,a=e.fee,s={name:n,description:"",publicKey:this.$store.state.account.publicKey,feeNQT:new M.a(a).times(P["a"].accuracy).toString(),deadline:P["a"].deadline},console.log(s),this.disabledSendButton=!0,t.prev=4,t.next=7,I["p"](s,I["b"].setAccountInfo);case 7:return i=t.sent,o=i.data,o=void 0===o?{}:o,c=o.unsignedTransactionBytes,l=o.transactionJSON,t.next=13,this.broadcastTransaction(c,l);case 13:this.isSubmit=!0,this.result="success",this.resultTitle="设置名称成功",t.next=25;break;case 18:t.prev=18,t.t0=t["catch"](4),this.errmsg=t.t0.data.errorDescription,this.isSubmit=!0,this.result="fail",this.resultTitle="设置名称失败",console.error(t.t0);case 25:return t.prev=25,this.disabledSendButton=!1,t.finish(25);case 28:case"end":return t.stop()}},t,this,[[4,18,25,28]])}));function e(){return t.apply(this,arguments)}return e}()}},Tt=kt,$t=(n("432f"),Object(_["a"])(Tt,bt,yt,!1,null,"12b0f1d6",null)),xt=$t.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{errmsg:t.errmsg,result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.send")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.sendForm}},[t._l(t.sendForm.recipients,function(e,a){return n("div",{key:a,staticClass:"vs-form-item__group"},[n("el-form-item",{staticClass:"recipients",attrs:{prop:"recipients."+a+".address",rules:t.rules.recipients.address}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.receiveAddress")},model:{value:e.address,callback:function(n){t.$set(e,"address",n)},expression:"recipient.address"}},[n("div",{attrs:{slot:"suffix"},slot:"suffix"})])],1),n("el-form-item",{staticClass:"vs-form-item__value",attrs:{prop:"recipients."+a+".value",rules:t.rules.recipients.value}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"recipient.value"}},[1===t.sendForm.recipients.length?n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:function(e){return t.clickMaxButton(a)}}},[t._v("MAX")])]):t._e(),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),0===a?n("el-form-item",{staticClass:"icon-button",nativeOn:{click:function(e){return t.addRecipient(e)}}},[n("i",{staticClass:"el-icon-plus el-icon__button"})]):n("el-form-item",{staticClass:"icon-button",nativeOn:{click:function(e){return t.deleteRecipient(a)}}},[n("i",{staticClass:"el-icon-close el-icon__button"})])],1)}),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===t.sendForm.recipients.length,expression:"sendForm.recipients.length === 1"}]},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.comment")},model:{value:t.sendForm.remark,callback:function(e){t.$set(t.sendForm,"remark",e)},expression:"sendForm.remark"}},[n("div",{attrs:{slot:"suffix"},slot:"suffix"})])],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.sendForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{step:.1,min:.1,max:10},model:{value:t.sendForm.fee,callback:function(e){t.$set(t.sendForm,"fee",e)},expression:"sendForm.fee"}})],1)])],2),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"danger",disabled:t.disabledSendButton},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.send")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},Ot=[];function At(t,e,n,a,s,i,r){try{var o=t[i](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,s)}function Ft(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function r(t){At(i,a,s,r,o,"next",t)}function o(t){At(i,a,s,r,o,"throw",t)}r(void 0)})}}function Bt(){return{address:"",value:null}}var Et={name:"Send",mixins:[R,J],data:function(){return{errmsg:"",sendForm:{recipients:[Bt()],fee:1,remark:""},rules:{recipients:{address:[{required:!0,message:this.$t("myaccount.addressTips"),trigger:"blur"},{pattern:/VOL-[a-zA-Z0-9-]+$/,message:this.$t("myaccount.addressTips")}],value:[{required:!0,message:this.$t("myaccount.emptyNumber"),trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:this.$t("myaccount.digitalCheckTips")}]}}}},computed:{sumValue:function(){var t=this.sendForm.recipients;return t.reduce(function(t,e){return t=t.plus(null===e.value?0:e.value),t},new M.a(0)).toString()},maxSliderVal:function(){return new M.a(this.formattedAccountOverview.balanceNQT).minus(this.sumValue).toNumber()}},methods:{addRecipient:function(){this.sendForm.recipients.push(Bt())},deleteRecipient:function(t){this.sendForm.recipients=this.sendForm.recipients.filter(function(e,n){return n!==t})},submit:function(){var t=Ft(r.a.mark(function t(){var e,n,a,s,i,o,c,l,u;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.sendForm,n=e.recipients,a=e.fee,s=e.remark,n=n.filter(function(t){return t.value>0}),i={publicKey:this.$store.state.account.publicKey,deadline:P["a"].deadline,feeNQT:new M.a(a).times(P["a"].accuracy).toString()},o=I["a"].sendMoney,n.length>1?n.every(function(t){return t.value===n[0].value})?(o=I["a"].sendMoneyMultiSame,i.amountNQT=new M.a(n[0].value).times(P["a"].accuracy).toString(),i.recipients=n.map(function(t){return j["a"].createAccountIdByAddress(t.address)}).join(";")):(o=I["a"].sendMoneyMulti,i.recipients=n.map(function(t){return"".concat(j["a"].createAccountIdByAddress(t.address),":").concat(new M.a(t.value).times(P["a"].accuracy).toString())}).join(";")):(s&&(i.message=s,i.messageIsText=!0),i.amountNQT=new M.a(n[0].value).times(P["a"].accuracy).toString(),i.recipient=n[0].address),this.disabledSendButton=!0,t.prev=6,t.next=9,I["r"](i,o);case 9:return c=t.sent,l=c.data,l=void 0===l?{}:l,u=l.unsignedTransactionBytes,t.next=15,this.broadcastTransaction(u);case 15:this.isSubmit=!0,this.result="success",this.resultTitle="转账成功",t.next=27;break;case 20:t.prev=20,t.t0=t["catch"](6),this.errmsg=t.t0.data.errorDescription,this.isSubmit=!0,this.result="fail",this.resultTitle="转账失败",console.error(t.t0);case 27:return t.prev=27,this.disabledSendButton=!1,t.finish(27);case 30:case"end":return t.stop()}},t,this,[[6,20,27,30]])}));function e(){return t.apply(this,arguments)}return e}(),clickMaxButton:function(t){var e=this.sendForm,n=e.recipients,a=e.fee,s=n.filter(function(e,n){return n!==t}),i=s.reduce(function(t,e){return t=t.plus(null===e.value?0:e.value),t},new M.a(0)).toString();this.sendForm.recipients[t].value=new M.a(this.formattedAccountOverview.balanceNQT).minus(a).minus(i).toString()}}},Lt=Et,Nt=(n("a58b"),Object(_["a"])(Lt,St,Ot,!1,null,"7648b602",null)),Mt=Nt.exports,Pt=n("f195"),Rt=n("cf45");function jt(t,e,n,a,s,i,r){try{var o=t[i](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,s)}function zt(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function r(t){jt(i,a,s,r,o,"next",t)}function o(t){jt(i,a,s,r,o,"throw",t)}r(void 0)})}}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dt="PLEDGE",Vt="RELEASE_PLEDGE",Qt="AVAILABLE",qt="SEND",Kt="RECEIVE",Ht="SET_NAME",Ut={Pledge:"Pledge",Received:"Received",Send:"Send",UnPledge:"UnPledge",Extract:"Extract",SetName:"SetName"},Wt={name:"MyAccount",components:{Send:Mt,Pledge:et,UnPledge:lt,Extract:_t,Received:gt["a"],SetName:xt,MyAccountTransitions:F["a"],BlockList:B["a"],MyAccountOverviewLeft:b,MyAccountOverviewRight:A},data:function(){return{activeName:"first",isShowPledgeDialog:!1,currentPledgeComponent:Ut.Pledge}},computed:{isMobile:function(){return Object(T["a"])()},balance:function(){var t;return t={},It(t,Qt,{key:Qt,name:this.$t("myaccount.available"),btnLabel:this.$t("myaccount.stake"),value:this.$store.getters.formattedAccountOverview.balanceNQT}),It(t,Dt,{key:Dt,name:this.$t("myaccount.staked"),btnLabel:this.$t("myaccount.unstake"),value:this.$store.getters.formattedAccountOverview.totalPledged}),It(t,Vt,{key:Vt,name:this.$t("myaccount.unstaking"),btnLabel:this.$t("myaccount.draw"),value:this.$store.getters.formattedAccountOverview.totalUnpledged}),t},pledgeDialogWidth:function(){return Object(T["a"])()?"100%":[Ut.Pledge,Ut.UnPledge,Ut.Extract,Ut.Received].includes(this.currentPledgeComponent)?"380px":"466px"}},created:function(){Pt["a"].$on("transaction",this.clickLeftButton)},mounted:function(){var t=this.$route.query.action;this.clickLeftButton(t)},beforeDestroy:function(){Pt["a"].$off("transaction")},methods:{handleClick:function(t,e){},handleBalance:function(){var t=zt(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Rt["b"])();case 2:if(n=t.sent,n){t.next=6;break}return this.$message.error(this.$t("myaccount.awaitTail")),t.abrupt("return",!1);case 6:t.t0=e.key,t.next=t.t0===Dt?9:t.t0===Vt?11:t.t0===Qt?13:15;break;case 9:return this.currentPledgeComponent=Ut.UnPledge,t.abrupt("break",15);case 11:return this.currentPledgeComponent=Ut.Extract,t.abrupt("break",15);case 13:return this.currentPledgeComponent=Ut.Pledge,t.abrupt("break",15);case 15:this.isShowPledgeDialog=!0;case 16:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),clickLeftButton:function(){var t=zt(r.a.mark(function t(e){var n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Rt["b"])();case 2:if(n=t.sent,n){t.next=6;break}return this.$message.error(this.$t("myaccount.awaitTail")),t.abrupt("return",!1);case 6:t.t0=e,t.next=t.t0===qt?9:t.t0===Kt?12:t.t0===Ht?15:18;break;case 9:return this.currentPledgeComponent=Ut.Send,this.isShowPledgeDialog=!0,t.abrupt("break",18);case 12:return this.currentPledgeComponent=Ut.Received,this.isShowPledgeDialog=!0,t.abrupt("break",18);case 15:return this.currentPledgeComponent=Ut.SetName,this.isShowPledgeDialog=!0,t.abrupt("break",18);case 18:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),pledge:function(){}}},Jt=Wt,Xt=(n("2c43"),Object(_["a"])(Jt,a,s,!1,null,"7c4c2c6a",null)),Gt=Xt.exports;e["default"]=Gt},e448:function(t,e,n){},e873:function(t,e,n){},f965:function(t,e,n){"use strict";var a=n("0ac3"),s=n.n(a);s.a},fbb1:function(t,e,n){}}]);