(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bbce4bf"],{"0ae1":function(t,e,n){},"0cbc":function(t,e,n){},"107c":function(t,e,n){"use strict";e["a"]={props:{value:{type:Boolean,required:!0}},methods:{hideModal:function(){this.$emit("input",!1)}}}},1611:function(t,e,n){},"1bf9":function(t,e,n){"use strict";var a=n("0cbc"),s=n.n(a);s.a},"1e88":function(t,e,n){},"23f3":function(t,e,n){},2856:function(t,e,n){"use strict";var a=n("f47d"),s=n.n(a);s.a},"2d002":function(t,e,n){"use strict";var a=n("ffd6"),s=n.n(a);s.a},"2e3f":function(t,e,n){"use strict";var a=n("aff9"),s=n("5f72"),i=n("365c"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("div",{staticClass:"result-icon__wrap",class:{success:"success"===t.result}},["success"===t.result?n("i",{staticClass:"el-icon-check"}):n("i",{staticClass:"el-icon-close"})]),n("span",{staticClass:"result-content"},[t._v(t._s("success"===t.result?t.$t("myaccount.broadcastSuccess"):t.$t("myaccount.broadcastFail")))]),n("el-button",{staticClass:"result-button",attrs:{type:"primary"},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("myaccount.close")))])],1)},r=[],c={name:"Result",props:{title:{type:String,required:!0},result:{type:String,default:"success"}}},l=c,u=(n("b612"),n("2877")),d=Object(u["a"])(l,o,r,!1,null,"072d6b1e",null),m=d.exports;e["a"]={components:{Result:m},data:function(){return{disabledSendButton:!1,isSubmit:!1,result:"",resultTitle:""}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview}},methods:{send:function(){var t=this;this.$refs.sendForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.submit()})},broadcastTransaction:function(t){var e=this,n=a["a"].signBytes(t,this.$store.state.account.mnemonic),o=a["a"].verifyBytes(n,t,this.$store.state.account.publicKey);if(o){var r=a["a"].signTransactionBytes(t,n);return new Promise(function(t,n){i["d"]({transactionBytes:r}).then(function(n){e.$store.dispatch("getAccountOverview"),t(n)}).catch(n)})}Object(s["Message"])({showClose:!0,message:"签名验证未通过",type:"error"})}}}},"379e":function(t,e,n){},"5afd":function(t,e,n){"use strict";var a=n("e448"),s=n.n(a);s.a},"68ab":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myaccount-transitions"},[n("div",{staticClass:"transitions__header"},[n("div",{staticClass:"header__left"},[n("h6",[t._v(t._s(t.$t("blockTran.Transaction")))]),n("i18n",{attrs:{path:"myaccount.totalTxs",tag:"span"}},[n("span",{attrs:{place:"total"}},[t._v(t._s(t.total))])])],1),n("div",{staticClass:"header__right hidden-xs-only"},[n("el-pagination",{attrs:{background:"","current-page":t.page,"page-size":t.limit,total:t.total,layout:"prev, pager, next, sizes, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"size-change":t.handleChangeCurrent,"current-change":t.handleChangeCurrent}})],1)]),n("div",{staticClass:"transitions__body"},[n("div",{staticClass:"transition"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"transition__body",staticStyle:{},attrs:{data:t.transactionList,"span-method":t.arraySpanMethod,"row-class-name":t.addRowClassName}},[n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"fullHash",align:"left",label:t.$t("myaccount.hash"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?[n("div",{staticClass:"time__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Time"))+"：")]),n("span",{staticClass:"font-color__long"},[t._v(t._s(t._f("vmoment")(e.row.blockTimestamp)))])])]:[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("myaccount.hash")))]),e.row.unconfirmedTransactions?n("span",{staticClass:"pending"},[t._v(t._s(e.row.fullHash))]):n("router-link",{attrs:{to:"/tx/"+e.row.transaction}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.fullHash))])])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"feeNQT",align:"center",label:t.$t("blockTran.Fee")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span",[n("div",{staticClass:"thead__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Fee"))+"：")]),t._v("\n                  "+t._s(t._f("toThousands")(t._f("formatVol")(e.row.feeNQT)))+" VOL\n                ")])]):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.TransactionType")))]),n("span",[t._v(" "+t._s(e.row.txType))])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"block",align:"center",label:t.$t("blockTran.Block")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?[n("div",{staticClass:"thead__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Fee"))+"：")]),t._v("\n                  "+t._s(t._f("toThousands")(t._f("formatVol")(e.row.feeNQT)))+" VOL\n                ")])]:[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Block")))]),e.row.unconfirmedTransactions?n("span",{staticClass:"pending"},[t._v("(pending)")]):n("router-link",{attrs:{to:"/block/"+e.row.block}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.block))])])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"confirmations",align:"center",width:"80",label:t.$t("blockTran.Confirmations")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Confirmations")))]),e.row.unconfirmedTransactions?n("span",[t._v("未确认")]):n("span",[t._v(t._s(e.row.confirmations))])]]}}])}),n("el-table-column",{attrs:{prop:"senderRS",align:"center",width:"240",label:t.$t("blockTran.Sender")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Sender")))]),n("div",[[[e.row.senderRS,e.row.sender].includes(t.account)?n("span",[t._v(t._s(e.row.senderRS))]):n("router-link",{attrs:{to:"/account/"+e.row.senderRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.senderRS))])])]],2)]]}}])}),n("el-table-column",{attrs:{prop:"recipientRS",align:"center",width:"300",label:t.$t("blockTran.Recipient")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Recipient")))]),e.row.recipient||e.row.attachment.recipients?t._e():n("div",[t._v("-")]),[1,2].includes(e.row.subtype)?n("div",[t._l(e.row.recipients,function(a,s){return n("div",{key:a.accountRS,staticClass:"address__wrap"},[e.row.showAll||s<t.limit_recipient?[[a.accountRS,a].includes(t.account)?n("span",[t._v(t._s(a.accountRS))]):n("router-link",{attrs:{to:"/account/"+a.accountRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(a.accountRS))])])]:t._e()],2)}),n("div",{staticClass:"button-more__wrap"},[e.row.recipients.length>t.limit_recipient?n("el-button",{attrs:{size:"mini",plain:""},on:{click:function(t){e.row.showAll=!e.row.showAll}}},[t._v("\n                      "+t._s(e.row.showAll?"隐藏":"更多")+"\n                      "),n("i",{staticClass:"el-icon-arrow-down"})]):t._e()],1)],2):[[e.row.recipientRS,e.row.recipient].includes(t.account)?n("span",{staticClass:"address__wrap"},[t._v(t._s(e.row.recipientRS))]):n("router-link",{staticClass:"address__wrap",attrs:{to:"/account/"+e.row.recipientRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.recipientRS))])])],n("vs-icon",{staticClass:"vs-icon-right",attrs:{name:"to"}})]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"amountNQT",align:"right",label:t.$t("blockTran.Amount")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Amount")))]),1==e.row.type&&2==e.row.subtype?n("span",[t._v("-")]):t._e(),[1,2].includes(e.row.subtype)?n("div",t._l(e.row.recipients,function(e){return n("div",{key:e.accountRS},[n("span",[t._v(t._s(t._f("toThousands")(t._f("formatVol")(e.amountNQT)))+" VOL")])])}),0):n("span",[t._v(t._s(t._f("toThousands")(t._f("formatVol")(e.row.amountNQT)))+" VOL")])]]}}])})],1)],1)]),n("el-pagination",{staticClass:"hidden-sm-and-up",attrs:{background:"",small:!0,"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5,layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"size-change":t.handleChangeCurrent,"current-change":t.handleChangeCurrent}})],1)},s=[],i=n("365c"),o=n("f195"),r=n("aff9"),c=n("cf45"),l=n("07a4"),u={name:"MyAccountTransitions",props:{account:{type:String,required:!1},block:{type:String,required:!1}},data:function(){return{transactionList:[],loading:!1,total:0,limit:20,page:1}},computed:{limit_recipient:function(){return 4}},created:function(){var t=this;l["a"].dispatch("getAccountOverview"),"MyAccount"!==this.$route.name&&this.getTransactionList(),o["a"].$on("updateTransactionList",function(){t.getTransactionList(!0)})},destroyed:function(){o["a"].$off("updateTransactionList")},methods:{getTransactionList:function(t){var e=this;t||(this.loading=!0);var n={page:this.page,limit:this.limit};this.account&&(n["account"]=this.account),this.block&&(n["block"]=this.block),Object(i["o"])(n).then(function(t){var n=t.data;n=void 0===n?{}:n;var a=n.data,s=a.data,i=void 0===s?[]:s,o=a.total,l=void 0===o?0:o;i=Object(c["b"])(i,e.$i18n.locale),e.transactionList=i.map(function(t){if(t.showAll=!1,1===t.subtype&&(t.recipients=t.attachment.recipients.map(function(t){return{accountId:t[0],accountRS:r["a"].createAddressByAccountId(t[0]),amountNQT:t[1]}})),2===t.subtype)if(t.attachment.recipients){var e=t.amountNQT/t.attachment.recipients.length;t.recipients=t.attachment.recipients.map(function(t){return{accountId:t,accountRS:r["a"].createAddressByAccountId(t),amountNQT:e}})}else t.recipients=[];return t}).reduce(function(t,e){return t.push({rowType:"TIME",blockTimestamp:e.blockTimestamp||e.timestamp,type:e.type,feeNQT:e.feeNQT}),t.push(e),t},[]),e.total=l}).finally(function(){e.loading=!1})},handleChangeCurrent:function(t){this.getTransactionList()},arraySpanMethod:function(t){var e=t.row,n=(t.column,t.rowIndex,t.columnIndex);if("TIME"===e.rowType){if(0===n)return[1,4];if(1===n)return[1,3];if(2===n)return[0,0]}},addRowClassName:function(t){var e=t.row;return"TIME"===e.rowType?"row__time":"THEAD"===e.rowType?"row__thead":""}},watch:{account:function(){this.getTransactionList()}}},d=u,m=(n("867c"),n("2877")),p=Object(m["a"])(d,a,s,!1,null,"1757cd5d",null);e["a"]=p.exports},"6c5b":function(t,e,n){"use strict";var a=n("23f3"),s=n.n(a);s.a},"867c":function(t,e,n){"use strict";var a=n("f1f5"),s=n.n(a);s.a},9660:function(t,e,n){"use strict";var a=n("0ae1"),s=n.n(a);s.a},"9bbf":function(t,e,n){"use strict";var a=n("fbb1"),s=n.n(a);s.a},aa3e:function(t,e,n){"use strict";var a=n("1e88"),s=n.n(a);s.a},b612:function(t,e,n){"use strict";var a=n("379e"),s=n.n(a);s.a},c13e:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"received"},[n("span",{staticClass:"received-title",attrs:{text:t.topTitle}},[t._v(t._s(t.topTitle))]),n("div",{staticClass:"received-qrcode__wrap"},[n("vs-qrcode",{attrs:{text:t.address}})],1),n("span",{staticClass:"received-address"},[t._v(t._s(t.address))]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.address,expression:"address",arg:"copy"}],staticClass:"received-button",attrs:{type:"text"}},[t._v(t._s(t.$t("myaccount.copyAddress")))])],1)},s=[],i={name:"Received",props:{address:{type:String,required:!0},topTitle:{type:String,required:!1}}},o=i,r=(n("5afd"),n("2877")),c=Object(r["a"])(o,a,s,!1,null,"38d24f10",null);e["a"]=c.exports},d8e4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-container",{staticClass:"vs-container"},[n("vs-header",{attrs:{title:t.$t("header.account")}}),n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.accountLoading,expression:"$store.state.accountLoading"}],staticClass:"myaccount-overview__wrap",attrs:{gutter:6}},[n("el-col",{attrs:{xs:24,sm:12}},[n("MyAccountOverviewLeft",{staticClass:"myaccount-overview",on:{clickButton:t.clickLeftButton}})],1),n("el-col",{attrs:{xs:24,sm:12}},[n("MyAccountOverviewRight",{staticClass:"myaccount-overview myaccount-overview__chart",attrs:{balance:t.balance,"total-balance":t.$store.getters.formattedAccountOverview.totalBalance},on:{handleBalance:t.handleBalance}})],1)],1),t.$store.state.account.address?[n("vs-main",{staticClass:"vs-main"},[n("MyAccountTransitions",{attrs:{account:t.$store.state.account.address}})],1)]:t._e(),n("el-dialog",{attrs:{width:t.pledgeDialogWidth,visible:t.isShowPledgeDialog,"show-close":[t.currentPledgeComponent].includes("Received"),"destroy-on-close":!0,"close-on-click-modal":[t.currentPledgeComponent].includes("Received"),"custom-class":"vs-dialog"},on:{"update:visible":function(e){t.isShowPledgeDialog=e}}},[n(t.currentPledgeComponent,{tag:"component",attrs:{topTitle:t.$t("myaccount.receive"),address:t.$store.state.account.address},model:{value:t.isShowPledgeDialog,callback:function(e){t.isShowPledgeDialog=e},expression:"isShowPledgeDialog"}})],1)],2)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-main",{staticClass:"myaccount-overview__left"},[n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.totalBalance")))]),n("div",{staticClass:"font--big"},[t._v(t._s(t._f("toThousands")(t._f("formatVol")(t.accountOverview.totalBalance)))+" VOL")])]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.address")))]),n("div",{staticClass:"v-center"},[t._v("\n      "+t._s(t.account.address)+"\n      "),n("vs-icon",{staticClass:"vs-qr-code",attrs:{name:"vs_qr_code"},nativeOn:{click:function(e){return t.$emit("clickButton","RECEIVE")}}}),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.account.address,expression:"account.address",arg:"copy"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary",attrs:{size:"mini",plain:""}},[t._v("\n        "+t._s(t.$t("myaccount.copy"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("account.Account"))+" ID")]),n("div",{staticClass:"v-center"},[t._v("\n      "+t._s(t.account.accountId)+"\n      "),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.account.accountId,expression:"account.accountId",arg:"copy"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary",attrs:{size:"mini",plain:""}},[t._v("\n        "+t._s(t.$t("myaccount.copy"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.publicKey")))]),n("div",{staticClass:"v-center text-wrap"},[t._v("\n      "+t._s(t.account.publicKey)+"\n      "),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.account.publicKey,expression:"account.publicKey",arg:"copy"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary",attrs:{size:"mini",plain:""}},[t._v("\n        "+t._s(t.$t("myaccount.copy"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.name")))]),n("div",{staticClass:"v-center"},[n("span",{staticClass:"font-color__secondary not-set"},[t._v(t._s(t.accountOverview.name||t.$t("myaccount.unNamed")))]),n("el-button",{staticClass:"vs-mini-button no-border font-color__button-primary",attrs:{size:"mini"},on:{click:function(e){return t.$emit("clickButton","SET_NAME")}}},[t._v(t._s(t.$t("myaccount.setName"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.transfers")))]),n("TransitionNumbers")],1),n("div",{staticClass:"myaccount-overview__group myaccount-overview__footer"},[n("TransitionButtons",{staticClass:"transition-buttons",on:{click:function(e){return t.$emit("clickButton",e)}}})],1)])},o=[],r=n("4d7c"),c=n("90e2"),l=n("5880");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){m(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"MyAccountOverviewLeft",components:{TransitionButtons:c["a"],TransitionNumbers:r["a"]},computed:d({},Object(l["mapState"])(["accountOverview","account"]))},v=p,f=(n("1bf9"),n("2877")),_=Object(f["a"])(v,i,o,!1,null,"58861ce2",null),h=_.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-main",{staticClass:"myaccount-overview__right"},[n("div",{staticClass:"vs-echarts__wrap"},[n("div",{ref:"echarts_container",staticClass:"vs-echarts__container"}),n("div",{staticClass:"vs-legend__wrap"},[n("div",{staticClass:"vs-legend__container"},t._l(Object.values(t.balance),function(e,a){return n("div",{key:e.key,staticClass:"vs-legend",class:["vs-legend--"+t.$i18n.locale]},[t.isMobile?n("span",{staticClass:"vs-legend__val"},[t._v(t._s(t._f("toThousands")(e.value))),n("span",{staticClass:"hidden-xs-only"},[t._v(" VOL")])]):t._e(),n("el-button",{staticClass:"vs-legend__button vs-mini-button no-border font-color__button-primary",class:["vs-legend__button--"+a,"vs-legend__button--"+t.$i18n.locale],attrs:{size:"mini",plain:""},on:{click:function(n){return t.handleBalance(e)}}},[t._v("\n            "+t._s(e.btnLabel)+"\n          ")])],1)}),0)])])])},g=[],y=n("164e"),w=n.n(y),C=n("51e6"),$=["#9cce05","#f6ac05","#f95904"],T={name:"MyAccountOverviewLeft",props:{balance:{type:Object,required:!0},totalBalance:{type:[String,Number],required:!0}},data:function(){return{isInitECharts:!1}},computed:{isMobile:function(){return Object(C["a"])()},balanceByName:function(){return Object.values(this.balance).reduce(function(t,e){return t[e.name]=e,t},{})},options:function(){var t=this;return{title:{text:"".concat(this.$t("myaccount.totalBalance"),"(VOL)"),subtext:"".concat(this.$numeral(this.totalBalance).format("0,0.0")),x:"26.8%",y:"38%",textAlign:"center",padding:[24,0],textStyle:{color:"#888EAE",fontSize:14,align:"center"},subtextStyle:{fontSize:18,color:["#1E1E1E"],fontWeight:"bold"}},tooltip:{trigger:"item",formatter:function(e){return"".concat(e.name,": ").concat(t.$numeral(e.value).format("0,0.0")," (").concat(e.percent,"%)")}},legend:{orient:"vertical",icon:"circle",left:"50%",top:"18%",align:"left",data:Object.values(this.balance).map(function(t){return t.name}),formatter:function(e){return"\n\n{title|"+e+"}\n\n{value|"+t.$numeral(t.balanceByName[e].value).format("0,0.0[00000000]")+" VOL}"},itemWidth:10,itemHeight:10,borderRadius:5,itemGap:8,padding:8,textStyle:{rich:{title:{fontSize:12,lineHeight:12,color:"#888EAE"},value:{fontSize:16,lineHeight:13,color:"#1E1E1E"}}}},series:[{name:"",type:"pie",radius:["47.2%","55%"],center:["26.8%","50%"],avoidLabelOverlap:!1,hoverAnimation:!0,color:$,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:Object.values(this.balance)}]}},mobileOptions:function(){return{title:{text:"".concat(this.$t("myaccount.totalBalance"),"(VOL)"),subtext:"".concat(this.$numeral(this.totalBalance).format("0,0.0")),x:"50%",y:"18%",textAlign:"center",padding:[24,0],textStyle:{color:"#888EAE",fontSize:12,align:"center"},subtextStyle:{fontSize:18,color:["#1E1E1E"],fontWeight:"bold"}},tooltip:!1,legend:{icon:"circle",top:"63%",data:Object.values(this.balance).map(function(t){return t.name}),formatter:function(t){return"{title|"+t+"}"},itemWidth:10,itemHeight:10,borderRadius:5,itemGap:45,padding:8,textStyle:{rich:{title:{fontSize:12,lineHeight:10,color:"#888EAE"}}}},series:[{name:"",type:"pie",radius:["44.4%","37%"],center:["50%","33%"],avoidLabelOverlap:!1,hoverAnimation:!0,color:$,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:Object.values(this.balance)}]}}},mounted:function(){var t=this.$refs.echarts_container;t&&(this.initECharts(),this.isInitECharts=!0)},updated:function(){this.isInitECharts||(this.initECharts(),this.isInitECharts=!0)},watch:{balance:{deep:!0,handler:function(){this.setEchartsOptions()}}},methods:{initECharts:function(){var t=this.$refs.echarts_container;this.echarts=w.a.init(t),this.setEchartsOptions()},setEchartsOptions:function(){this.echarts.setOption(Object(C["a"])()?this.mobileOptions:this.options)},handleBalance:function(t){this.$emit("handleBalance",t)}}},k=T,x=(n("9bbf"),Object(f["a"])(k,b,g,!1,null,"0808a06c",null)),S=x.exports,O=n("68ab"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.stake")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",{attrs:{prop:"address"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.errorAddressTips")},model:{value:t.pledgeForm.address,callback:function(e){t.$set(t.pledgeForm,"address",e)},expression:"pledgeForm.address"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.stakeTo")))]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{attrs:{prop:"value"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:t.pledgeForm.value,callback:function(e){t.$set(t.pledgeForm,"value",e)},expression:"pledgeForm.value"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.amount")))]),n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:t.clickMaxButton}},[t._v("MAX")])]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(" "+t._s(t.$t("myaccount.stake")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(" "+t._s(t.$t("myaccount.cancel")))])],1),n("div",{staticClass:"footer__tips footer__tips--bottom"},[t._v("\n        "+t._s(t.$t("myaccount.stakeTips"))+"\n      ")])])],1)],1)},F=[],E=n("a34a"),P=n.n(E),N=n("901e"),B=n.n(N),M=n("f121"),L=n("107c"),R=n("2e3f"),j=n("365c");function z(t,e,n,a,s,i,o){try{var r=t[i](o),c=r.value}catch(l){return void n(l)}r.done?e(c):Promise.resolve(c).then(a,s)}function V(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function o(t){z(i,a,s,o,r,"next",t)}function r(t){z(i,a,s,o,r,"throw",t)}o(void 0)})}}var I={name:"Pledge",mixins:[L["a"],R["a"]],data:function(){return{pledgeForm:{address:"",value:null,fee:1}}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview},maxSliderVal:function(){return new B.a(this.formattedAccountOverview.balanceNQT).minus(null===this.pledgeForm.value?0:this.pledgeForm.value).toNumber()},rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputStakedAddress"),trigger:"blur"},{pattern:/VOL-[a-zA-Z0-9-]+$/,message:this.$t("myaccount.addressTips")}],value:[{required:!0,message:this.$t("myaccount.emptyAddress"),trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:this.$t("myaccount.inputFloatNumber")}]}}},methods:{clickMaxButton:function(){var t=this.pledgeForm.fee;this.pledgeForm.value=new B.a(this.formattedAccountOverview.balanceNQT).minus(t).toString()},submit:function(){var t=V(P.a.mark(function t(){var e,n,a,s,i,o,r,c,l;return P.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.address,a=e.fee,s=e.value,i={amountNQT:new B.a(s).times(M["a"].accuracy).toString(),recipient:n,publicKey:this.$store.state.account.publicKey,feeNQT:new B.a(a).times(M["a"].accuracy).toString(),deadline:M["a"].deadline},this.disabledSendButton=!0,t.prev=3,t.next=6,j["r"](i,j["c"].setPledges);case 6:return o=t.sent,r=o.data,r=void 0===r?{}:r,c=r.unsignedTransactionBytes,l=r.transactionJSON,t.next=12,this.broadcastTransaction(c,l);case 12:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.stakedSuccessful"),t.next=23;break;case 17:t.prev=17,t.t0=t["catch"](3),this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.stakeFailed"),console.error(t.t0);case 23:return t.prev=23,this.disabledSendButton=!1,t.finish(23);case 26:case"end":return t.stop()}},t,this,[[3,17,23,26]])}));function e(){return t.apply(this,arguments)}return e}()}},Q=I,D=(n("2856"),Object(f["a"])(Q,A,F,!1,null,"63823a15",null)),q=D.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.unstake")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",[n("div",{staticClass:"vs-form__item"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.stakeTo")))]),n("span",[t._v(t._s(t.formattedAccountOverview.minePoolRS))])])]),n("el-form-item",{attrs:{prop:"value"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:t.pledgeForm.value,callback:function(e){t.$set(t.pledgeForm,"value",e)},expression:"pledgeForm.value"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.amount")))]),n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:t.clickMaxButton}},[t._v("MAX")])]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"footer__tips"},[n("i18n",{attrs:{path:"myaccount.drawTips"}},[n("span",{attrs:{place:"date"}},[t._v(t._s(t.$vmoment(t.formattedAccountOverview.withdrawTime).format("LL")))])])],1),n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.unstake")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},U=[];function H(t,e,n,a,s,i,o){try{var r=t[i](o),c=r.value}catch(l){return void n(l)}r.done?e(c):Promise.resolve(c).then(a,s)}function W(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function o(t){H(i,a,s,o,r,"next",t)}function r(t){H(i,a,s,o,r,"throw",t)}o(void 0)})}}var J={name:"UnPledge",mixins:[L["a"],R["a"]],data:function(){return{pledgeForm:{value:null,fee:1}}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview},maxSliderVal:function(){return new B.a(this.formattedAccountOverview.balanceNQT).toNumber()},rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputStakedAddress"),trigger:"blur"},{pattern:/VOL-[a-zA-Z0-9-]+$/,message:this.$t("myaccount.addressTips")}],value:[{required:!0,message:this.$t("myaccount.emptyNumber"),trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:this.$t("myaccount.inputFloatNumber")}]}}},methods:{clickMaxButton:function(){this.pledgeForm.value=new B.a(this.formattedAccountOverview.totalPledged).toString()},submit:function(){var t=W(P.a.mark(function t(){var e,n,a,s,i,o,r,c;return P.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.fee,a=e.value,s={amountNQT:new B.a(a).times(M["a"].accuracy).toString(),publicKey:this.$store.state.account.publicKey,feeNQT:new B.a(n).times(M["a"].accuracy).toString(),deadline:M["a"].deadline},console.log(s),this.disabledSendButton=!0,t.prev=4,t.next=7,j["r"](s,j["c"].setUnpledges);case 7:return i=t.sent,o=i.data,o=void 0===o?{}:o,r=o.unsignedTransactionBytes,c=o.transactionJSON,t.next=13,this.broadcastTransaction(r,c);case 13:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.unstakedSuccessful"),t.next=24;break;case 18:t.prev=18,t.t0=t["catch"](4),this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.unstakedFailed"),console.error(t.t0);case 24:return t.prev=24,this.disabledSendButton=!1,t.finish(24);case 27:case"end":return t.stop()}},t,this,[[4,18,24,27]])}));function e(){return t.apply(this,arguments)}return e}()}},G=J,Z=(n("2d002"),Object(f["a"])(G,K,U,!1,null,"151960fa",null)),X=Z.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.draw")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",[n("div",{staticClass:"vs-form__item"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.available")))]),n("span",[t._v(t._s(t.formattedAccountOverview.totalUnpledged)+" VOL")])])]),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"footer__tips"},[t.countdownText?t._e():n("span",[t._v("\n            "+t._s(t.$t("myaccount.unstakeTips"))+"\n          ")])]),n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary",disabled:!!t.countdownText},on:{click:t.send}},[t.countdownText?n("span",[t._v("\n              "+t._s(String(Math.floor(t.countdownText/1e3/60/60)).padStart(2,"0"))+":"+t._s(String(Math.floor(t.countdownText/1e3/60%60)).padStart(2,"0"))+":"+t._s(String(Math.floor(t.countdownText/1e3%60)).padStart(2,"0"))+"\n            ")]):n("span",[t._v(t._s(t.$t("myaccount.draw")))])]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},tt=[];function et(t,e,n,a,s,i,o){try{var r=t[i](o),c=r.value}catch(l){return void n(l)}r.done?e(c):Promise.resolve(c).then(a,s)}function nt(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function o(t){et(i,a,s,o,r,"next",t)}function r(t){et(i,a,s,o,r,"throw",t)}o(void 0)})}}var at={name:"Extract",mixins:[L["a"],R["a"]],data:function(){return{pledgeForm:{address:"",fee:1},countdownText:null}},computed:{rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputAddress"),trigger:"blur"},{pattern:/VOL-[a-zA-Z0-9-]+$/,message:this.$t("myaccount.addressTips")}],value:[{required:!0,message:this.$t("myaccount.inputAmount"),trigger:"change"}]}}},created:function(){this.countdown()},beforeDestroy:function(){this.countdownTimeout&&clearTimeout(this.countdownTimeout)},methods:{submit:function(){var t=nt(P.a.mark(function t(){var e,n,a,s,i,o;return P.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm.fee,n={amountNQT:new B.a(this.formattedAccountOverview.totalUnpledged).times(M["a"].accuracy).toString(),publicKey:this.$store.state.account.publicKey,feeNQT:new B.a(e).times(M["a"].accuracy).toString(),deadline:M["a"].deadline},this.disabledSendButton=!0,t.prev=3,t.next=6,j["r"](n,j["c"].withdrawPledges);case 6:return a=t.sent,s=a.data,s=void 0===s?{}:s,i=s.unsignedTransactionBytes,o=s.transactionJSON,t.next=12,this.broadcastTransaction(i,o);case 12:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.drawSuccessful"),t.next=23;break;case 17:t.prev=17,t.t0=t["catch"](3),this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.drawFailed"),console.error(t.t0);case 23:return t.prev=23,this.disabledSendButton=!1,t.finish(23);case 26:case"end":return t.stop()}},t,this,[[3,17,23,26]])}));function e(){return t.apply(this,arguments)}return e}(),countdown:function(){var t=this,e=this.$vmoment(this.formattedAccountOverview.withdrawTime).isAfter(this.$moment());e?(this.countdownText=this.$vmoment(this.formattedAccountOverview.withdrawTime).diff(this.$moment()),this.countdownTimeout=setTimeout(function(){t.countdown()},1e3)):(this.countdownText=null,this.countdownTimeout&&clearTimeout(this.countdownTimeout))}}},st=at,it=(n("6c5b"),Object(f["a"])(st,Y,tt,!1,null,"32cc9d8e",null)),ot=it.exports,rt=n("c13e"),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.setName")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{size:"small",placeholder:"输入名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)}},model:{value:t.pledgeForm.name,callback:function(e){t.$set(t.pledgeForm,"name",e)},expression:"pledgeForm.name"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.name")))]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.ok")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},lt=[];function ut(t,e,n,a,s,i,o){try{var r=t[i](o),c=r.value}catch(l){return void n(l)}r.done?e(c):Promise.resolve(c).then(a,s)}function dt(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function o(t){ut(i,a,s,o,r,"next",t)}function r(t){ut(i,a,s,o,r,"throw",t)}o(void 0)})}}var mt={name:"Pledge",mixins:[L["a"],R["a"]],data:function(){return{pledgeForm:{name:"",fee:1},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]}}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview}},methods:{submit:function(){var t=dt(P.a.mark(function t(){var e,n,a,s,i,o,r,c;return P.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.name,a=e.fee,s={name:n,description:"",publicKey:this.$store.state.account.publicKey,feeNQT:new B.a(a).times(M["a"].accuracy).toString(),deadline:M["a"].deadline},console.log(s),this.disabledSendButton=!0,t.prev=4,t.next=7,j["r"](s,j["c"].setAccountInfo);case 7:return i=t.sent,o=i.data,o=void 0===o?{}:o,r=o.unsignedTransactionBytes,c=o.transactionJSON,t.next=13,this.broadcastTransaction(r,c);case 13:this.isSubmit=!0,this.result="success",this.resultTitle="设置名称成功",t.next=24;break;case 18:t.prev=18,t.t0=t["catch"](4),this.isSubmit=!0,this.result="fail",this.resultTitle="设置名称失败",console.error(t.t0);case 24:return t.prev=24,this.disabledSendButton=!1,t.finish(24);case 27:case"end":return t.stop()}},t,this,[[4,18,24,27]])}));function e(){return t.apply(this,arguments)}return e}()}},pt=mt,vt=(n("9660"),Object(f["a"])(pt,ct,lt,!1,null,"1dcfd172",null)),ft=vt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.send")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.sendForm}},[t._l(t.sendForm.recipients,function(e,a){return n("div",{key:a,staticClass:"vs-form-item__group"},[n("el-form-item",{staticClass:"recipients",attrs:{prop:"recipients."+a+".address",rules:t.rules.recipients.address}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.receiveAddress")},model:{value:e.address,callback:function(n){t.$set(e,"address",n)},expression:"recipient.address"}},[n("div",{attrs:{slot:"suffix"},slot:"suffix"})])],1),n("el-form-item",{staticClass:"vs-form-item__value",attrs:{prop:"recipients."+a+".value",rules:t.rules.recipients.value}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"recipient.value"}},[1===t.sendForm.recipients.length?n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:function(e){return t.clickMaxButton(a)}}},[t._v("MAX")])]):t._e(),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),0===a?n("el-form-item",{staticClass:"icon-button",nativeOn:{click:function(e){return t.addRecipient(e)}}},[n("i",{staticClass:"el-icon-plus el-icon__button"})]):n("el-form-item",{staticClass:"icon-button",nativeOn:{click:function(e){return t.deleteRecipient(a)}}},[n("i",{staticClass:"el-icon-close el-icon__button"})])],1)}),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===t.sendForm.recipients.length,expression:"sendForm.recipients.length === 1"}]},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.comment")},model:{value:t.sendForm.remark,callback:function(e){t.$set(t.sendForm,"remark",e)},expression:"sendForm.remark"}},[n("div",{attrs:{slot:"suffix"},slot:"suffix"})])],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.sendForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.sendForm.fee,callback:function(e){t.$set(t.sendForm,"fee",e)},expression:"sendForm.fee"}})],1)])],2),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"danger",disabled:t.disabledSendButton},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.send")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},ht=[],bt=n("aff9");function gt(t,e,n,a,s,i,o){try{var r=t[i](o),c=r.value}catch(l){return void n(l)}r.done?e(c):Promise.resolve(c).then(a,s)}function yt(t){return function(){var e=this,n=arguments;return new Promise(function(a,s){var i=t.apply(e,n);function o(t){gt(i,a,s,o,r,"next",t)}function r(t){gt(i,a,s,o,r,"throw",t)}o(void 0)})}}function wt(){return{address:"",value:null}}var Ct={name:"Send",mixins:[L["a"],R["a"]],data:function(){return{sendForm:{recipients:[wt()],fee:1,remark:""},rules:{recipients:{address:[{required:!0,message:this.$t("myaccount.addressTips"),trigger:"blur"},{pattern:/VOL-[a-zA-Z0-9-]+$/,message:this.$t("myaccount.addressTips")}],value:[{required:!0,message:this.$t("myaccount.emptyNumber"),trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:this.$t("myaccount.digitalCheckTips")}]}}}},computed:{sumValue:function(){var t=this.sendForm.recipients;return t.reduce(function(t,e){return t=t.plus(null===e.value?0:e.value),t},new B.a(0)).toString()},maxSliderVal:function(){return new B.a(this.formattedAccountOverview.balanceNQT).minus(this.sumValue).toNumber()}},methods:{addRecipient:function(){this.sendForm.recipients.push(wt())},deleteRecipient:function(t){this.sendForm.recipients=this.sendForm.recipients.filter(function(e,n){return n!==t})},submit:function(){var t=yt(P.a.mark(function t(){var e,n,a,s,i,o,r,c,l;return P.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.sendForm,n=e.recipients,a=e.fee,s=e.remark,n=n.filter(function(t){return t.value>0}),i={publicKey:this.$store.state.account.publicKey,deadline:M["a"].deadline,feeNQT:new B.a(a).times(M["a"].accuracy).toString()},o=j["b"].sendMoney,n.length>1?n.every(function(t){return t.value===n[0].value})?(o=j["b"].sendMoneyMultiSame,i.amountNQT=new B.a(n[0].value).times(M["a"].accuracy).toString(),i.recipients=n.map(function(t){return bt["a"].createAccountIdByAddress(t.address)}).join(";")):(o=j["b"].sendMoneyMulti,i.recipients=n.map(function(t){return"".concat(bt["a"].createAccountIdByAddress(t.address),":").concat(new B.a(t.value).times(M["a"].accuracy).toString())}).join(";")):(s&&(i.message=s,i.messageIsText=!0),i.amountNQT=new B.a(n[0].value).times(M["a"].accuracy).toString(),i.recipient=n[0].address),this.disabledSendButton=!0,t.prev=6,t.next=9,j["t"](i,o);case 9:return r=t.sent,c=r.data,c=void 0===c?{}:c,l=c.unsignedTransactionBytes,t.next=15,this.broadcastTransaction(l);case 15:this.isSubmit=!0,this.result="success",this.resultTitle="转账成功",t.next=26;break;case 20:t.prev=20,t.t0=t["catch"](6),this.isSubmit=!0,this.result="fail",this.resultTitle="转账失败",console.error(t.t0);case 26:return t.prev=26,this.disabledSendButton=!1,t.finish(26);case 29:case"end":return t.stop()}},t,this,[[6,20,26,29]])}));function e(){return t.apply(this,arguments)}return e}(),clickMaxButton:function(t){var e=this.sendForm,n=e.recipients,a=e.fee,s=n.filter(function(e,n){return n!==t}),i=s.reduce(function(t,e){return t=t.plus(null===e.value?0:e.value),t},new B.a(0)).toString();this.sendForm.recipients[t].value=new B.a(this.formattedAccountOverview.balanceNQT).minus(a).minus(i).toString()}}},$t=Ct,Tt=(n("aa3e"),Object(f["a"])($t,_t,ht,!1,null,"3c92de36",null)),kt=Tt.exports,xt=n("f195");function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ot="PLEDGE",At="RELEASE_PLEDGE",Ft="AVAILABLE",Et="SEND",Pt="RECEIVE",Nt="SET_NAME",Bt={Pledge:"Pledge",Received:"Received",Send:"Send",UnPledge:"UnPledge",Extract:"Extract",SetName:"SetName"},Mt={name:"MyAccount",components:{Send:kt,Pledge:q,UnPledge:X,Extract:ot,Received:rt["a"],SetName:ft,MyAccountTransitions:O["a"],MyAccountOverviewLeft:h,MyAccountOverviewRight:S},data:function(){return{isShowPledgeDialog:!1,currentPledgeComponent:Bt.Pledge}},computed:{isMobile:function(){return Object(C["a"])()},balance:function(){var t;return t={},St(t,Ft,{key:Ft,name:this.$t("myaccount.available"),btnLabel:this.$t("myaccount.stake"),value:this.$store.getters.formattedAccountOverview.balanceNQT}),St(t,Ot,{key:Ot,name:this.$t("myaccount.staked"),btnLabel:this.$t("myaccount.unstake"),value:this.$store.getters.formattedAccountOverview.totalPledged}),St(t,At,{key:At,name:this.$t("myaccount.unstaking"),btnLabel:this.$t("myaccount.draw"),value:this.$store.getters.formattedAccountOverview.totalUnpledged}),t},pledgeDialogWidth:function(){return Object(C["a"])()?"100%":[Bt.Pledge,Bt.UnPledge,Bt.Extract,Bt.Received].includes(this.currentPledgeComponent)?"380px":"466px"}},created:function(){xt["a"].$on("transaction",this.clickLeftButton)},mounted:function(){var t=this.$route.query.action;this.clickLeftButton(t)},beforeDestroy:function(){xt["a"].$off("transaction")},methods:{handleBalance:function(t){switch(console.log("item.key =>",t.key),console.log(t),t.key){case Ot:this.currentPledgeComponent=Bt.UnPledge;break;case At:this.currentPledgeComponent=Bt.Extract;break;case Ft:this.currentPledgeComponent=Bt.Pledge;break}this.isShowPledgeDialog=!0},clickLeftButton:function(t){switch(t){case Et:this.currentPledgeComponent=Bt.Send,this.isShowPledgeDialog=!0;break;case Pt:this.currentPledgeComponent=Bt.Received,this.isShowPledgeDialog=!0;break;case Nt:this.currentPledgeComponent=Bt.SetName,this.isShowPledgeDialog=!0;break}},pledge:function(){}}},Lt=Mt,Rt=(n("fd9e"),Object(f["a"])(Lt,a,s,!1,null,"cca8a0e2",null)),jt=Rt.exports;e["default"]=jt},e448:function(t,e,n){},f1f5:function(t,e,n){},f47d:function(t,e,n){},fbb1:function(t,e,n){},fd9e:function(t,e,n){"use strict";var a=n("1611"),s=n.n(a);s.a},ffd6:function(t,e,n){}}]);