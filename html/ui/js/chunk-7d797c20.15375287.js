(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d797c20"],{"0d99":function(t,a,o){},"1e48":function(t,a,o){"use strict";var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"myaccount-transitions"},[o("div",{staticClass:"transitions__header"},[o("div",{staticClass:"header__left"},[o("i18n",{attrs:{path:"myaccount.totalBlock",tag:"span"}},[o("span",{attrs:{place:"total"}},[t._v(t._s(t.total))])])],1),o("div",{staticClass:"header__right hidden-xs-only"},[o("el-pagination",{attrs:{background:"","current-page":t.page,"page-size":t.limit,total:t.total,layout:"prev, pager, next, sizes, jumper"},on:{"update:currentPage":function(a){t.page=a},"update:current-page":function(a){t.page=a},"update:pageSize":function(a){t.limit=a},"update:page-size":function(a){t.limit=a},"size-change":t.handleChangeCurrent,"current-change":t.handleChangeCurrent}})],1)]),o("div",{staticClass:"transitions__body"},[o("div",{staticClass:"transition"},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBlock,expression:"loadingBlock"}],staticClass:"vs-main-bhr-table",staticStyle:{"font-size":"14px"},attrs:{"header-cell-style":{fontWeight:"normal",fontSize:"14px"},"span-method":t.arraySpanMethod,"row-class-name":t.addRowClassName,data:t.blockData}},[o("el-table-column",{attrs:{prop:"height",label:t.$t("blockTran.Height"),width:"180",align:"left"},scopedSlots:t._u([{key:"default",fn:function(a){return[o("router-link",{attrs:{to:"/block/"+a.row.block}},[o("div",{staticClass:"color-text-button-primary"},[t._v(t._s(t._f("toThousand")(a.row.height)))])])]}}])}),o("el-table-column",{attrs:{prop:"timestamp",label:t.$t("blockTran.Time"),align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.timeLittle(a.row.timestamp)?o("div",[t._v(t._s(t.timeLittle(a.row.timestamp))+" "+t._s(t.$t("home.SecondAgo")))]):o("div",[t._v("\n                "+t._s(t.$vmoment(a.row.timestamp).fromNow())+"\n              ")])]}}])}),o("el-table-column",{attrs:{prop:"generatorRS",width:"260",align:"center",label:t.$t("blockTran.Forger")},scopedSlots:t._u([{key:"default",fn:function(a){return[o("router-link",{attrs:{to:"/account/"+a.row.generatorRS}},[o("div",{staticClass:"color-text-button-primary"},[t._v(t._s(a.row.generatorRS))])])]}}])}),o("el-table-column",{attrs:{prop:"totalFeeNQT",width:"150",align:"center",label:t.$t("blockTran.TotalFees")+"(VOL)"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n              "+t._s(t._f("toThousand")(t._f("toFixed1")(t._f("formatVol")(a.row.totalFeeNQT))))+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"blockReward",width:"200",align:"center",label:t.$t("blockTran.BlockReward")+"(VOL)"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n              "+t._s(t._f("toThousand")(t._f("toFixed1")(t._f("formatVol")(a.row.blockReward))))+"\n            ")]}}])}),o("el-table-column",{attrs:{width:"200",prop:"blockBonus",align:"right",label:t.$t("blockTran.BlockEarningAll")+"(VOL)"},scopedSlots:t._u([{key:"default",fn:function(a){return[o("div",[t._v(t._s(t._f("toThousands")(t._f("formatVol")(a.row.blockBonus))))])]}}])})],1)],1)]),o("el-pagination",{staticClass:"hidden-sm-and-up",attrs:{background:"",small:!0,"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5,layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(a){t.page=a},"update:current-page":function(a){t.page=a},"update:pageSize":function(a){t.limit=a},"update:page-size":function(a){t.limit=a},"size-change":t.handleSizeChange,"current-change":t.handleChangeCurrent}})],1)},n=[],i=o("365c"),s=o("c6e6"),l=o("f195"),r=o("aff9"),c=o("cf45"),u={name:"BlockList",props:{requestType:{type:String,required:!0,validator:function(t){return"pool"===t||"account"===t}},account:{type:String,required:!1},block:{type:String,required:!1}},data:function(){return{loadingBlock:!1,transactionList:[],blockData:[],loading:!1,total:0,limit:20,page:1}},computed:{limit_recipient:function(){return 4}},created:function(){var t=this;this._getBlockList(),l["a"].$on("upData",function(){t._getBlockList()})},beforeDestroy:function(){l["a"].$off("upData")},methods:{timeLittle:function(t){var a="",o=this.$moment().format("X"),e=this.$vmoment(t).format("X");return o-e<60&&(a=(o-e).toString()),a},_getBlockList:function(){var t=this;this.loadingBlock=!0;var a={requestType:"getBlockList",limit:this.limit,page:this.page};"pool"===this.requestType?a["pool"]=this.account:"account"===this.requestType&&(a["account"]=this.account),Object(s["a"])(a).then(function(a){0===a.errCode&&(t.blockData=a.data.data),t.total=a.data.total}).finally(function(){t.loadingBlock=!1})},getTransactionList:function(t){var a=this;t||(this.loading=!0);var o={page:this.page,limit:this.limit};this.account&&(o["account"]=this.account),this.block&&(o["block"]=this.block),Object(i["n"])(o).then(function(t){var o=t.data;o=void 0===o?{}:o;var e=o.data,n=e.data,i=void 0===n?[]:n,s=e.total,l=void 0===s?0:s;i=Object(c["c"])(i,a.$i18n.locale),a.transactionList=i.map(function(t){if(t.showAll=!1,1===t.subtype&&(t.recipients=t.attachment.recipients.map(function(t){return{accountId:t[0],accountRS:r["a"].createAddressByAccountId(t[0]),amountNQT:t[1]}})),2===t.subtype)if(t.attachment.recipients){var a=t.amountNQT/t.attachment.recipients.length;t.recipients=t.attachment.recipients.map(function(t){return{accountId:t,accountRS:r["a"].createAddressByAccountId(t),amountNQT:a}})}else t.recipients=[];return t}).reduce(function(t,a){return t.push({rowType:"TIME",blockTimestamp:a.blockTimestamp||a.timestamp,type:a.type,feeNQT:a.feeNQT}),t.push(a),t},[]),a.total=l}).finally(function(){a.loading=!1})},handleSizeChange:function(t){this._getBlockList()},handleChangeCurrent:function(t){this._getBlockList()},arraySpanMethod:function(t){var a=t.row,o=(t.column,t.rowIndex,t.columnIndex);if("TIME"===a.rowType){if(0===o)return[1,4];if(1===o)return[1,3];if(2===o)return[0,0]}},addRowClassName:function(t){var a=t.row;return"TIME"===a.rowType?"row__time":"THEAD"===a.rowType?"row__thead":""}},watch:{account:function(){this.getTransactionList()}}},d=u,p=(o("450b"),o("2877")),f=Object(p["a"])(d,e,n,!1,null,"68da4913",null);a["a"]=f.exports},"450b":function(t,a,o){"use strict";var e=o("871f"),n=o.n(e);n.a},"871f":function(t,a,o){},a739:function(t,a,o){"use strict";o.r(a);var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"mine-pool-node-details"},[o("vs-container",[o("vs-header",{staticStyle:{"margin-top":"20px"},attrs:{title:t.$t("Pool.MPRNDetails")}}),o("vs-main",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-top":"10px"}},[o("div",{staticClass:"vs-sign"},[o("img",{attrs:{src:t.imgUrl}}),o("div",{staticClass:"vs-sign-rank"},[t._v("No.1")])]),o("div",{staticClass:"col-line"},[o("div",{staticClass:"col-left"},[t._v(t._s(t.$t("Pool.NodeName")))]),o("div",{staticClass:"col-right",domProps:{innerHTML:t._s(t.NodeName)}})]),o("div",{staticClass:"col-line"},[o("div",{staticClass:"col-left"},[t._v(t._s(t.$t("Pool.Abbr")))]),o("div",{staticClass:"col-right",domProps:{innerHTML:t._s(t.Abbr)}})]),o("div",{staticClass:"col-line"},[o("div",{staticClass:"col-left"},[t._v(t._s(t.$t("myaccount.address")))]),o("div",{staticClass:"col-right"},[o("router-link",{staticClass:"color-text-button-primary ",attrs:{to:"/account/"+t.accountID}},[t._v("\n            "+t._s(t._f("toAddress")(t.accountID))+"\n          ")]),t.accountAddress?o("span",[o("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.accountAddress,expression:"accountAddress",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary copy hidden-sm-and-down",attrs:{size:"mini",plain:""}},[t._v("\n                "+t._s(t.$t("myaccount.copy"))+"\n              ")])],1):t._e()],1)]),o("div",{staticClass:"col-line"},[o("div",{staticClass:"col-left"},[t._v(t._s(t.$t("Pool.Contact")))]),o("div",{staticClass:"col-right",domProps:{innerHTML:t._s(t.Contact)}})]),o("div",{staticClass:"col-line"},[o("div",{staticClass:"col-left"},[t._v(t._s(t.$t("Pool.Location")))]),o("div",{staticClass:"col-right",domProps:{innerHTML:t._s(t.Location)}})]),o("div",{staticClass:"col-line"},[o("div",{staticClass:"col-left"},[t._v(t._s(t.$t("Pool.Website")))]),o("div",{staticClass:"col-right",domProps:{innerHTML:t._s(t.Website)}})]),o("div",{staticClass:"col-line"},[o("div",{staticClass:"col-left"},[t._v(t._s(t.$t("Pool.BriefIntroduction")))]),o("div",{staticClass:"col-right words",domProps:{innerHTML:t._s(t.BriefIntroduction)}})])]),t.showTable?o("vs-main",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPoolMiner,expression:"loadingPoolMiner"}],staticStyle:{"margin-top":"10px","margin-bottom":"90px","padding-bottom":"10px"}},[o("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:t.$t("Pool.MinerList"),name:"first"}},[o("div",{staticClass:"pool-table-wrap"},[o("div",{staticClass:"vs-main-bh"},[o("div",{staticClass:"vs-main-bhl"},[o("span",{staticClass:"hidden-xs-only"},[t._v(t._s(t.$t("Pool.TotalOf"))+t._s(t.total)+t._s(t.$t("Pool.Accounts")))])]),o("div",{staticClass:"vs-main-bhr hidden-sm-and-up"},[t._v(t._s(t.$t("Pool.TotalOf"))+t._s(t.total)+t._s(t.$t("Pool.Accounts")))]),o("div",{staticClass:"vs-main-bhr hidden-xs-only"},[o("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,40],"page-size":10,layout:"prev, pager, next, sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),o("el-table",{staticStyle:{"font-size":"14px"},attrs:{data:t.tableData,"header-cell-style":t.rowClass}},[o("el-table-column",{attrs:{prop:"accountRS",label:t.$t("Pool.Address"),width:"260",align:"left"},scopedSlots:t._u([{key:"default",fn:function(a){return[o("router-link",{attrs:{to:"/account/"+a.row.account}},[o("span",{staticClass:"color-text-button-primary"},[t._v(t._s(a.row.accountRS))])])]}}],null,!1,1824260730)}),o("el-table-column",{attrs:{prop:"totalCap",label:t.$t("Pool.Capacity")+"( T )",align:"right",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                  "+t._s(t._f("toFixed1")(a.row.totalCap))+"\n                ")]}}],null,!1,2617123208)}),o("el-table-column",{attrs:{prop:"totalPledged",width:"180",align:"right",label:t.$t("Pool.Staked")},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                  "+t._s(t._f("toThousands")(t._f("formatVol")(a.row.totalPledged)))+"\n                ")]}}],null,!1,3564922628)}),o("el-table-column",{attrs:{prop:"blockNum",width:"220",align:"right",label:t.$t("Pool.BlockForged")}}),o("el-table-column",{attrs:{prop:"mineReward",width:"280",align:"right",label:t.$t("Pool.Total")},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                  "+t._s(t._f("toThousands")(t._f("formatVol")(a.row.totalProfit)))+"\n                ")]}}],null,!1,2290021417)})],1),o("el-pagination",{staticClass:"hidden-sm-and-up",attrs:{small:!0,background:"",layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)]),o("el-tab-pane",{attrs:{label:t.$t("myaccount.blockList"),name:"second"}},[o("div",{staticClass:"pool-table-wrap"},[o("BlockList",{attrs:{requestType:"pool",account:t.$route.params.minePoolNodeId}})],1)])],1)],1):t._e()],1)],1)},n=[],i=o("1e48"),s=o("365c"),l=o("c493"),r=o("aff9"),c={name:"MinePoolNodeDetails",components:{BlockList:i["a"]},data:function(){return{activeName:"first",loading:!1,loadingPoolMiner:!1,limit:10,page:1,total:0,showTable:!1,imgUrl:"",NodeName:"",Abbr:"",Contact:"",Location:"",accountID:"",accountAddress:"",Website:"",BriefIntroduction:"",tableData:[]}},created:function(){this.$route.params.minePoolNodeId&&(this.showTable=!0,this.getDetail(this.$route.params.minePoolNodeId),this.handleList(this.$route.params.minePoolNodeId))},methods:{handleClick:function(t,a){},onCopy:function(t){this.$message({message:this.$t("myaccount.copySuccess")+":"+t.text,type:"success"})},onError:function(t){this.$message.error(this.$t("myaccount.copyFail"))},rowClass:function(){return"font-weight: normal;font-size:14px;"},handleSizeChange:function(t){this.limit=t,this.handleList(this.$route.params.minePoolNodeId)},handleCurrentChange:function(t){this.page=t,this.handleList(this.$route.params.minePoolNodeId)},getDetail:function(t){var a=this;this.loading=!0;var o="https://volumenetwork.io/deploy/api/vlm/node/queryMinePool?debug=false&lang=";Object(l["c"])(o+this.$i18n.locale+"&account="+t).then(function(t){if(0===t.code){var o=t.data.rows[0];a.imgUrl=o.logo,a.NodeName=o.name||"-",a.Abbr=o.shortName||"-",a.Contact=o.telephone||"-",a.Location=o.location||"-",a.Website=o.webpage?"<a href=".concat(o.webpage,' target="_blank" style="color: #2A549D;">').concat(o.webpage,"</a>"):"-",a.BriefIntroduction=o.description||"-",a.accountID=o.accountID,a.accountAddress=r["a"].createAddressByAccountId(a.accountID)}}).finally(function(){a.loading=!1})},handleList:function(t){var a=this;this.loadingPoolMiner=!0,Object(s["l"])({account:t,limit:this.limit,start:this.page}).then(function(t){var o=t.data;o=void 0===o?{}:o;for(var e=o.data,n=e.data,i=void 0===n?[]:n,s=e.total,l=void 0===s?0:s,r=0;r<i.length;r++)i[r]["totalProfit"]=i[r].pledgeRewardBalance+i[r].mineReward;a.tableData=i,a.total=l}).finally(function(){a.loadingPoolMiner=!1})}}},u=c,d=(o("aa7f"),o("2877")),p=Object(d["a"])(u,e,n,!1,null,"b17d59b6",null);a["default"]=p.exports},aa7f:function(t,a,o){"use strict";var e=o("0d99"),n=o.n(e);n.a},c493:function(t,a,o){"use strict";o.d(a,"c",function(){return i}),o.d(a,"a",function(){return s}),o.d(a,"b",function(){return l}),o.d(a,"d",function(){return r});var e=o("bc3a"),n=o.n(e);function i(t,a){return new Promise(function(o,e){n.a.get(t).then(function(t){t.data.data&&t.data.data.rows&&a&&c(t.data.data.rows),o(t.data)},function(t){console.log(t)}).catch(function(t){console.log(t)})})}function s(){var t=localStorage.getItem("poolConfig");return t}function l(){var t=localStorage.getItem("poolConfigLogo");return t}function r(t){var a="https://volumenetwork.io/deploy/api/vlm/node/queryMinePool?debug=false";i(a).then(function(a){if(0===a.code){var o=a.data.rows;c(o),t()}})}function c(t){for(var a={},o={},e=0;e<t.length;e++)t[e].accountID&&(a[t[e].accountID]=t[e].shortName,o[t[e].accountID]=t[e].logo);var n=JSON.stringify(a),i=JSON.stringify(o);localStorage.setItem("poolConfig",n),localStorage.setItem("poolConfigLogo",i)}},c6e6:function(t,a,o){"use strict";o.d(a,"a",function(){return n});var e=o("0189");function n(t){return new Promise(function(a,o){e["a"].get("/vol",{params:t}).then(function(t){a(t.data)}).catch(function(t){o(t),console.log(t)})})}}}]);