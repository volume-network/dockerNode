(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a7b0bbd"],{"0891":function(t,e,n){"use strict";var a=n("8e7f"),s=n.n(a);s.a},"0b3c":function(t,e,n){},"0eb7":function(t,e,n){"use strict";var a=n("3f30"),s=n.n(a);s.a},"107c":function(t,e,n){"use strict";e["a"]={props:{value:{type:Boolean,required:!0}},methods:{hideModal:function(){this.$emit("input",!1)}}}},1127:function(t,e,n){},"149e":function(t,e,n){},1915:function(t,e,n){"use strict";var a=n("8937"),s=n.n(a);s.a},"2e3f":function(t,e,n){"use strict";var a=n("aff9"),s=n("5f72"),i=n("365c"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("div",{staticClass:"result-icon__wrap",class:{success:"success"===t.result}},["success"===t.result?n("i",{staticClass:"el-icon-check"}):n("i",{staticClass:"el-icon-close"})]),n("span",{staticClass:"result-content"},[t._v(t._s("success"===t.result?t.$t("myaccount.broadcastSuccess"):t.$t("myaccount.broadcastFail")))]),n("el-button",{staticClass:"result-button",attrs:{type:"primary"},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("myaccount.close")))])],1)},o=[],c={name:"Result",props:{title:{type:String,required:!0},result:{type:String,default:"success"}}},l=c,u=(n("b612"),n("2877")),d=Object(u["a"])(l,r,o,!1,null,"072d6b1e",null),m=d.exports;e["a"]={components:{Result:m},data:function(){return{disabledSendButton:!1,isSubmit:!1,result:"",resultTitle:""}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview}},methods:{send:function(){var t=this;this.$refs.sendForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.submit()})},broadcastTransaction:function(t){var e=this,n=a["a"].signBytes(t,this.$store.state.account.mnemonic),r=a["a"].verifyBytes(n,t,this.$store.state.account.publicKey);if(r){var o=a["a"].signTransactionBytes(t,n);return new Promise(function(t,n){i["d"]({transactionBytes:o}).then(function(n){e.$store.dispatch("getAccountOverview"),t(n)}).catch(n)})}Object(s["Message"])({showClose:!0,message:"签名验证未通过",type:"error"})}}}},3153:function(t,e,n){"use strict";var a=n("1127"),s=n.n(a);s.a},"334c":function(t,e,n){},"379e":function(t,e,n){},"3f30":function(t,e,n){},4850:function(t,e,n){"use strict";var a=n("0b3c"),s=n.n(a);s.a},"5afd":function(t,e,n){"use strict";var a=n("e448"),s=n.n(a);s.a},"5dbc":function(t,e,n){var a=n("d3f4"),s=n("8b97").set;t.exports=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&a(i)&&s&&s(t,i),t}},"68ab":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myaccount-transitions"},[n("div",{staticClass:"transitions__header"},[n("div",{staticClass:"header__left"},[n("h6",[t._v(t._s(t.$t("blockTran.Transaction")))]),n("i18n",{attrs:{path:"myaccount.totalTxs",tag:"span"}},[n("span",{attrs:{place:"total"}},[t._v(t._s(t.total))])])],1),n("div",{staticClass:"header__right hidden-xs-only"},[n("el-pagination",{attrs:{background:"","current-page":t.page,"page-size":t.limit,total:t.total,layout:"prev, pager, next, sizes, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"size-change":t.handleChangeCurrent,"current-change":t.handleChangeCurrent}})],1)]),n("div",{staticClass:"transitions__body"},[n("div",{staticClass:"transition"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"transition__body",staticStyle:{width:"100%"},attrs:{data:t.transactionList,"span-method":t.arraySpanMethod,"row-class-name":t.addRowClassName}},[n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"fullHash",align:"left",label:t.$t("myaccount.hash"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?[n("div",{staticClass:"time__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Time"))+"：")]),n("span",{staticClass:"font-color__long"},[t._v(t._s(t._f("vmoment")(e.row.blockTimestamp)))])])]:[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("myaccount.hash")))]),e.row.unconfirmedTransactions?n("span",[t._v(t._s(e.row.fullHash))]):n("router-link",{attrs:{to:"/tx/"+e.row.transaction}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.fullHash))])])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"feeNQT",align:"center",label:t.$t("blockTran.Fee")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span",[n("div",{staticClass:"thead__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Fee"))+"：")]),t._v("\n                  "+t._s(t._f("toThousands")(t._f("formatVol")(e.row.feeNQT)))+" VOL\n                ")])]):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.TransactionType")))]),n("span",[t._v(" "+t._s(e.row.txType))])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"block",align:"center",label:t.$t("blockTran.Block")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?[n("div",{staticClass:"thead__wrap"},[n("span",{staticClass:"font-color__secondary"},[t._v(t._s(t.$t("blockTran.Fee"))+"：")]),t._v("\n                  "+t._s(t._f("toThousands")(t._f("formatVol")(e.row.feeNQT)))+" VOL\n                ")])]:[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Block")))]),e.row.unconfirmedTransactions?n("span",[t._v("(pending)")]):n("router-link",{attrs:{to:"/block/"+e.row.block}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.block))])])]]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"confirmations",align:"center",width:"80",label:t.$t("blockTran.Confirmations")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Confirmations")))]),e.row.unconfirmedTransactions?n("span",[t._v("未确认")]):n("span",[t._v(t._s(e.row.confirmations))])]]}}])}),n("el-table-column",{attrs:{prop:"senderRS",align:"center",width:"240",label:t.$t("blockTran.Sender")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Sender")))]),n("div",[[[e.row.senderRS,e.row.sender].includes(t.account)?n("span",[t._v(t._s(e.row.senderRS))]):n("router-link",{attrs:{to:"/account/"+e.row.senderRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.senderRS))])])]],2)]]}}])}),n("el-table-column",{attrs:{prop:"recipientRS",align:"center",width:"300",label:t.$t("blockTran.Recipient")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Recipient")))]),e.row.recipient||e.row.attachment.recipients?t._e():n("div",[t._v("-")]),[1,2].includes(e.row.subtype)?n("div",[t._l(e.row.recipients,function(a,s){return n("div",{key:a.accountRS,staticClass:"address__wrap"},[e.row.showAll||s<t.limit_recipient?[[a.accountRS,a].includes(t.account)?n("span",[t._v(t._s(a.accountRS))]):n("router-link",{attrs:{to:"/account/"+a.accountRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(a.accountRS))])])]:t._e()],2)}),n("div",{staticClass:"button-more__wrap"},[e.row.recipients.length>t.limit_recipient?n("el-button",{attrs:{size:"mini",plain:""},on:{click:function(t){e.row.showAll=!e.row.showAll}}},[t._v("\n                      "+t._s(e.row.showAll?"隐藏":"更多")+"\n                      "),n("i",{staticClass:"el-icon-arrow-down"})]):t._e()],1)],2):[[e.row.recipientRS,e.row.recipient].includes(t.account)?n("span",{staticClass:"address__wrap"},[t._v(t._s(e.row.recipientRS))]):n("router-link",{staticClass:"address__wrap",attrs:{to:"/account/"+e.row.recipientRS}},[n("span",{staticClass:"color-text-button-primary"},[t._v(t._s(e.row.recipientRS))])])]],n("vs-icon",{staticClass:"vs-icon-right",attrs:{name:"to"}})]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"amountNQT",align:"right",label:t.$t("blockTran.Amount")},scopedSlots:t._u([{key:"default",fn:function(e){return["TIME"===e.row.rowType?n("span"):[n("div",{staticClass:"row__thead"},[t._v(t._s(t.$t("blockTran.Amount")))]),1==e.row.type&&2==e.row.subtype?n("span",[t._v("-")]):t._e(),[1,2].includes(e.row.subtype)?n("div",t._l(e.row.recipients,function(e){return n("div",{key:e.accountRS},[n("span",[t._v(t._s(t._f("toThousands")(t._f("formatVol")(e.amountNQT)))+" VOL")])])}),0):n("span",[t._v(t._s(t._f("toThousands")(t._f("formatVol")(e.row.amountNQT)))+" VOL")])]]}}])})],1)],1)]),n("el-pagination",{staticClass:"hidden-sm-and-up",attrs:{background:"",small:!0,"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5,layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"size-change":t.handleChangeCurrent,"current-change":t.handleChangeCurrent}})],1)},s=[],i=(n("7f7f"),n("365c")),r=n("f195"),o=n("aff9"),c=n("cf45"),l={name:"MyAccountTransitions",props:{account:{type:String,required:!1},block:{type:String,required:!1}},data:function(){return{transactionList:[],loading:!1,total:0,limit:20,page:1}},computed:{limit_recipient:function(){return 4}},created:function(){var t=this;"MyAccount"!==this.$route.name&&this.getTransactionList(),r["a"].$on("updateTransactionList",function(){t.getTransactionList(!0)})},destroyed:function(){r["a"].$off("updateTransactionList")},methods:{getTransactionList:function(t){var e=this;t||(this.loading=!0);var n={page:this.page,limit:this.limit};this.account&&(n["account"]=this.account),this.block&&(n["block"]=this.block),Object(i["o"])(n).then(function(t){var n=t.data;n=void 0===n?{}:n;var a=n.data,s=a.data,i=void 0===s?[]:s,r=a.total,l=void 0===r?0:r;i=Object(c["b"])(i,e.$i18n.locale),e.transactionList=i.map(function(t){if(t.showAll=!1,1===t.subtype&&(t.recipients=t.attachment.recipients.map(function(t){return{accountId:t[0],accountRS:o["a"].createAddressByAccountId(t[0]),amountNQT:t[1]}})),2===t.subtype)if(t.attachment.recipients){var e=t.amountNQT/t.attachment.recipients.length;t.recipients=t.attachment.recipients.map(function(t){return{accountId:t,accountRS:o["a"].createAddressByAccountId(t),amountNQT:e}})}else t.recipients=[];return t}).reduce(function(t,e){return t.push({rowType:"TIME",blockTimestamp:e.blockTimestamp||e.timestamp,type:e.type,feeNQT:e.feeNQT}),t.push(e),t},[]),e.total=l}).finally(function(){e.loading=!1})},handleChangeCurrent:function(t){this.getTransactionList()},arraySpanMethod:function(t){var e=t.row,n=(t.column,t.rowIndex,t.columnIndex);if("TIME"===e.rowType){if(0===n)return[1,4];if(1===n)return[1,3];if(2===n)return[0,0]}},addRowClassName:function(t){var e=t.row;return"TIME"===e.rowType?"row__time":"THEAD"===e.rowType?"row__thead":""}},watch:{account:function(){this.getTransactionList()}}},u=l,d=(n("0891"),n("2877")),m=Object(d["a"])(u,a,s,!1,null,"8c753e12",null);e["a"]=m.exports},6983:function(t,e,n){},8615:function(t,e,n){var a=n("5ca1"),s=n("504c")(!1);a(a.S,"Object",{values:function(t){return s(t)}})},8937:function(t,e,n){},"8b97":function(t,e,n){var a=n("d3f4"),s=n("cb7c"),i=function(t,e){if(s(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(s){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:i}},"8de4":function(t,e,n){"use strict";var a=n("ec66"),s=n.n(a);s.a},"8e7f":function(t,e,n){},"9b31":function(t,e,n){"use strict";var a=n("334c"),s=n.n(a);s.a},aa77:function(t,e,n){var a=n("5ca1"),s=n("be13"),i=n("79e5"),r=n("fdef"),o="["+r+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,n){var s={},o=i(function(){return!!r[t]()||c[t]()!=c}),l=s[t]=o?e(m):r[t];n&&(s[n]=l),a(a.P+a.F*o,"String",s)},m=d.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},b095:function(t,e,n){"use strict";var a=n("6983"),s=n.n(a);s.a},b612:function(t,e,n){"use strict";var a=n("379e"),s=n.n(a);s.a},c13e:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"received"},[n("span",{staticClass:"received-title",attrs:{text:t.topTitle}},[t._v(t._s(t.topTitle))]),n("div",{staticClass:"received-qrcode__wrap"},[n("vs-qrcode",{attrs:{text:t.address}})],1),n("span",{staticClass:"received-address"},[t._v(t._s(t.address))]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.address,expression:"address",arg:"copy"}],staticClass:"received-button",attrs:{type:"text"}},[t._v(t._s(t.$t("myaccount.copyAddress")))])],1)},s=[],i={name:"Received",props:{address:{type:String,required:!0},topTitle:{type:String,required:!1}}},r=i,o=(n("5afd"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"38d24f10",null);e["a"]=c.exports},c5f6:function(t,e,n){"use strict";var a=n("7726"),s=n("69a8"),i=n("2d95"),r=n("5dbc"),o=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,d=n("86cc").f,m=n("aa77").trim,p="Number",f=a[p],v=f,_=f.prototype,h=i(n("2aeb")(_))==p,b="trim"in String.prototype,g=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():m(e,3);var n,a,s,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+e}for(var r,c=e.slice(2),l=0,u=c.length;l<u;l++)if(r=c.charCodeAt(l),r<48||r>s)return NaN;return parseInt(c,a)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(h?c(function(){_.valueOf.call(n)}):i(n)!=p)?r(new v(g(e)),n,f):g(e)};for(var y,w=n("9e1e")?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;w.length>C;C++)s(v,y=w[C])&&!s(f,y)&&d(f,y,u(v,y));f.prototype=_,_.constructor=f,n("2aba")(a,p,f)}},c6a7:function(t,e,n){"use strict";var a=n("149e"),s=n.n(a);s.a},d8e4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-container",{staticClass:"vs-container"},[n("vs-header",{attrs:{title:t.$t("header.account")}}),n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.accountLoading,expression:"$store.state.accountLoading"}],staticClass:"myaccount-overview__wrap",attrs:{gutter:6}},[n("el-col",{attrs:{xs:24,sm:12}},[n("MyAccountOverviewLeft",{staticClass:"myaccount-overview",on:{clickButton:t.clickLeftButton}})],1),n("el-col",{attrs:{xs:24,sm:12}},[n("MyAccountOverviewRight",{staticClass:"myaccount-overview myaccount-overview__chart",attrs:{balance:t.balance,"total-balance":t.$store.getters.formattedAccountOverview.totalBalance},on:{handleBalance:t.handleBalance}})],1)],1),t.$store.state.account.address?[n("vs-main",{staticClass:"vs-main"},[n("MyAccountTransitions",{attrs:{account:t.$store.state.account.address}})],1)]:t._e(),n("el-dialog",{attrs:{width:t.pledgeDialogWidth,visible:t.isShowPledgeDialog,"show-close":[t.currentPledgeComponent].includes("Received"),"destroy-on-close":!0,"close-on-click-modal":[t.currentPledgeComponent].includes("Received"),"custom-class":"vs-dialog"},on:{"update:visible":function(e){t.isShowPledgeDialog=e}}},[n(t.currentPledgeComponent,{tag:"component",attrs:{topTitle:t.$t("myaccount.receive"),address:t.$store.state.account.address},model:{value:t.isShowPledgeDialog,callback:function(e){t.isShowPledgeDialog=e},expression:"isShowPledgeDialog"}})],1)],2)},s=[],i=(n("6762"),n("2fdb"),n("bd86")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-main",{staticClass:"myaccount-overview__left"},[n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.totalBalance")))]),n("div",{staticClass:"font--big"},[t._v(t._s(t._f("toThousands")(t._f("formatVol")(t.accountOverview.totalBalance)))+" VOL")])]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.address")))]),n("div",{staticClass:"v-center"},[t._v("\n      "+t._s(t.account.address)+"\n      "),n("vs-icon",{staticClass:"vs-qr-code",attrs:{name:"vs_qr_code"},nativeOn:{click:function(e){return t.$emit("clickButton","RECEIVE")}}}),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.account.address,expression:"account.address",arg:"copy"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary",attrs:{size:"mini",plain:""}},[t._v("\n        "+t._s(t.$t("myaccount.copy"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("account.Account"))+" ID")]),n("div",{staticClass:"v-center"},[t._v("\n      "+t._s(t.account.accountId)+"\n      "),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.account.accountId,expression:"account.accountId",arg:"copy"}],staticClass:"button——copy vs-mini-button no-border font-color__button-primary",attrs:{size:"mini",plain:""}},[t._v("\n        "+t._s(t.$t("myaccount.copy"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.name")))]),n("div",{staticClass:"v-center"},[n("span",{staticClass:"font-color__secondary not-set"},[t._v(t._s(t.accountOverview.name||t.$t("myaccount.unNamed")))]),n("el-button",{staticClass:"vs-mini-button no-border font-color__button-primary",attrs:{size:"mini"},on:{click:function(e){return t.$emit("clickButton","SET_NAME")}}},[t._v(t._s(t.$t("myaccount.setName"))+"\n      ")])],1)]),n("div",{staticClass:"myaccount-overview__group"},[n("div",{staticClass:"myaccount-overview__label"},[t._v(t._s(t.$t("myaccount.transfers")))]),n("TransitionNumbers")],1),n("div",{staticClass:"myaccount-overview__group myaccount-overview__footer"},[n("TransitionButtons",{staticClass:"transition-buttons",on:{click:function(e){return t.$emit("clickButton",e)}}})],1)])},o=[],c=(n("8e6e"),n("ac6a"),n("456d"),n("4d7c")),l=n("90e2"),u=n("5880");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var p={name:"MyAccountOverviewLeft",components:{TransitionButtons:l["a"],TransitionNumbers:c["a"]},computed:m({},Object(u["mapState"])(["accountOverview","account"]))},f=p,v=(n("3153"),n("2877")),_=Object(v["a"])(f,r,o,!1,null,"6d14844a",null),h=_.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-main",{staticClass:"myaccount-overview__right"},[n("div",{staticClass:"vs-echarts__wrap"},[n("div",{ref:"echarts_container",staticClass:"vs-echarts__container"}),n("div",{staticClass:"vs-legend__wrap"},[n("div",{staticClass:"vs-legend__container"},t._l(Object.values(t.balance),function(e,a){return n("div",{key:e.key,staticClass:"vs-legend",class:["vs-legend--"+t.$i18n.locale]},[t.isMobile?n("span",{staticClass:"vs-legend__val"},[t._v(t._s(t._f("toThousands")(e.value))),n("span",{staticClass:"hidden-xs-only"},[t._v(" VOL")])]):t._e(),n("el-button",{staticClass:"vs-legend__button vs-mini-button no-border font-color__button-primary",class:["vs-legend__button--"+a,"vs-legend__button--"+t.$i18n.locale],attrs:{size:"mini",plain:""},on:{click:function(n){return t.handleBalance(e)}}},[t._v("\n            "+t._s(e.btnLabel)+"\n          ")])],1)}),0)])])])},g=[],y=(n("7f7f"),n("8615"),n("c5f6"),n("164e")),w=n.n(y),C=n("51e6"),T=["#9cce05","#f6ac05","#f95904"],$={name:"MyAccountOverviewLeft",props:{balance:{type:Object,required:!0},totalBalance:{type:[String,Number],required:!0}},data:function(){return{isInitECharts:!1}},computed:{isMobile:function(){return Object(C["a"])()},balanceByName:function(){return Object.values(this.balance).reduce(function(t,e){return t[e.name]=e,t},{})},options:function(){var t=this;return{title:{text:"".concat(this.$t("myaccount.totalBalance"),"(VOL)"),subtext:"".concat(this.$numeral(this.totalBalance).format("0,0.0")),x:"26.8%",y:"38%",textAlign:"center",padding:[24,0],textStyle:{color:"#888EAE",fontSize:14,align:"center"},subtextStyle:{fontSize:18,color:["#1E1E1E"],fontWeight:"bold"}},tooltip:{trigger:"item",formatter:function(e){return"".concat(e.name,": ").concat(t.$numeral(e.value).format("0,0.0")," (").concat(e.percent,"%)")}},legend:{orient:"vertical",icon:"circle",left:"50%",top:"18%",align:"left",data:Object.values(this.balance).map(function(t){return t.name}),formatter:function(e){return"\n\n{title|"+e+"}\n\n{value|"+t.$numeral(t.balanceByName[e].value).format("0,0.0[00000000]")+" VOL}"},itemWidth:10,itemHeight:10,borderRadius:5,itemGap:8,padding:8,textStyle:{rich:{title:{fontSize:12,lineHeight:12,color:"#888EAE"},value:{fontSize:16,lineHeight:13,color:"#1E1E1E"}}}},series:[{name:"",type:"pie",radius:["47.2%","55%"],center:["26.8%","50%"],avoidLabelOverlap:!1,hoverAnimation:!0,color:T,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:Object.values(this.balance)}]}},mobileOptions:function(){return{title:{text:"".concat(this.$t("myaccount.totalBalance"),"(VOL)"),subtext:"".concat(this.$numeral(this.totalBalance).format("0,0.0")),x:"50%",y:"18%",textAlign:"center",padding:[24,0],textStyle:{color:"#888EAE",fontSize:12,align:"center"},subtextStyle:{fontSize:18,color:["#1E1E1E"],fontWeight:"bold"}},tooltip:!1,legend:{icon:"circle",top:"63%",data:Object.values(this.balance).map(function(t){return t.name}),formatter:function(t){return"{title|"+t+"}"},itemWidth:10,itemHeight:10,borderRadius:5,itemGap:45,padding:8,textStyle:{rich:{title:{fontSize:12,lineHeight:10,color:"#888EAE"}}}},series:[{name:"",type:"pie",radius:["44.4%","37%"],center:["50%","33%"],avoidLabelOverlap:!1,hoverAnimation:!0,color:T,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:Object.values(this.balance)}]}}},mounted:function(){var t=this.$refs.echarts_container;t&&(this.initECharts(),this.isInitECharts=!0)},updated:function(){this.isInitECharts||(this.initECharts(),this.isInitECharts=!0)},watch:{balance:{deep:!0,handler:function(){this.setEchartsOptions()}}},methods:{initECharts:function(){var t=this.$refs.echarts_container;this.echarts=w.a.init(t),this.setEchartsOptions()},setEchartsOptions:function(){this.echarts.setOption(Object(C["a"])()?this.mobileOptions:this.options)},handleBalance:function(t){this.$emit("handleBalance",t)}}},S=$,k=(n("0eb7"),Object(v["a"])(S,b,g,!1,null,"1439b5e8",null)),x=k.exports,O=n("68ab"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.stake")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",{attrs:{prop:"address"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.errorAddressTips")},model:{value:t.pledgeForm.address,callback:function(e){t.$set(t.pledgeForm,"address",e)},expression:"pledgeForm.address"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.stakeTo")))]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{attrs:{prop:"value"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:t.pledgeForm.value,callback:function(e){t.$set(t.pledgeForm,"value",e)},expression:"pledgeForm.value"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.amount")))]),n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:t.clickMaxButton}},[t._v("MAX")])]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(" "+t._s(t.$t("myaccount.stake")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(" "+t._s(t.$t("myaccount.cancel")))])],1),n("div",{staticClass:"footer__tips footer__tips--bottom"},[t._v("\n        "+t._s(t.$t("myaccount.stakeTips"))+"\n      ")])])],1)],1)},E=[],F=(n("96cf"),n("3b8d")),N=(n("6b54"),n("901e")),R=n.n(N),B=n("f121"),M=n("107c"),P=n("2e3f"),L=n("365c"),j={name:"Pledge",mixins:[M["a"],P["a"]],data:function(){return{pledgeForm:{address:"",value:null,fee:1}}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview},maxSliderVal:function(){return new R.a(this.formattedAccountOverview.balanceNQT).minus(null===this.pledgeForm.value?0:this.pledgeForm.value).toNumber()},rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputStakedAddress"),trigger:"blur"}],value:[{required:!0,message:this.$t("myaccount.emptyNumber"),trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:this.$t("myaccount.inputFloatNumber")}]}}},methods:{clickMaxButton:function(){var t=this.pledgeForm.fee;this.pledgeForm.value=new R.a(this.formattedAccountOverview.balanceNQT).minus(t).toString()},submit:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,i,r,o,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.address,a=e.fee,s=e.value,i={amountNQT:new R.a(s).times(B["a"].accuracy).toString(),recipient:n,publicKey:this.$store.state.account.publicKey,feeNQT:new R.a(a).times(B["a"].accuracy).toString(),deadline:B["a"].deadline},this.disabledSendButton=!0,t.prev=3,t.next=6,L["r"](i,L["c"].setPledges);case 6:return r=t.sent,o=r.data,o=void 0===o?{}:o,c=o.unsignedTransactionBytes,l=o.transactionJSON,t.next=12,this.broadcastTransaction(c,l);case 12:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.stakedSuccessful"),t.next=23;break;case 17:t.prev=17,t.t0=t["catch"](3),this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.stakeFailed"),console.error(t.t0);case 23:return t.prev=23,this.disabledSendButton=!1,t.finish(23);case 26:case"end":return t.stop()}},t,this,[[3,17,23,26]])}));function e(){return t.apply(this,arguments)}return e}()}},I=j,V=(n("9b31"),Object(v["a"])(I,A,E,!1,null,"21e5b64b",null)),z=V.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.unstake")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",[n("div",{staticClass:"vs-form__item"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.stakeTo")))]),n("span",[t._v(t._s(t.formattedAccountOverview.minePoolRS))])])]),n("el-form-item",{attrs:{prop:"value"}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:t.pledgeForm.value,callback:function(e){t.$set(t.pledgeForm,"value",e)},expression:"pledgeForm.value"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.amount")))]),n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:t.clickMaxButton}},[t._v("MAX")])]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"footer__tips"},[n("i18n",{attrs:{path:"myaccount.drawTips"}},[n("span",{attrs:{place:"date"}},[t._v(t._s(t.$vmoment(t.formattedAccountOverview.withdrawTime).format("LL")))])])],1),n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.unstake")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},D=[],q={name:"UnPledge",mixins:[M["a"],P["a"]],data:function(){return{pledgeForm:{value:null,fee:1}}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview},maxSliderVal:function(){return new R.a(this.formattedAccountOverview.balanceNQT).toNumber()},rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputStakedAddress"),trigger:"blur"}],value:[{required:!0,message:this.$t("myaccount.emptyNumber"),trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:this.$t("myaccount.inputFloatNumber")}]}}},methods:{clickMaxButton:function(){this.pledgeForm.value=new R.a(this.formattedAccountOverview.totalPledged).toString()},submit:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,i,r,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.fee,a=e.value,s={amountNQT:new R.a(a).times(B["a"].accuracy).toString(),publicKey:this.$store.state.account.publicKey,feeNQT:new R.a(n).times(B["a"].accuracy).toString(),deadline:B["a"].deadline},console.log(s),this.disabledSendButton=!0,t.prev=4,t.next=7,L["r"](s,L["c"].setUnpledges);case 7:return i=t.sent,r=i.data,r=void 0===r?{}:r,o=r.unsignedTransactionBytes,c=r.transactionJSON,t.next=13,this.broadcastTransaction(o,c);case 13:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.unstakedSuccessful"),t.next=24;break;case 18:t.prev=18,t.t0=t["catch"](4),this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.unstakedFailed"),console.error(t.t0);case 24:return t.prev=24,this.disabledSendButton=!1,t.finish(24);case 27:case"end":return t.stop()}},t,this,[[4,18,24,27]])}));function e(){return t.apply(this,arguments)}return e}()}},U=q,K=(n("1915"),Object(v["a"])(U,Q,D,!1,null,"8eaff262",null)),H=K.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.draw")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",[n("div",{staticClass:"vs-form__item"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.available")))]),n("span",[t._v(t._s(t.formattedAccountOverview.totalUnpledged)+" VOL")])])]),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"footer__tips"},[t.countdownText?t._e():n("span",[t._v("\n            "+t._s(t.$t("myaccount.unstakeTips"))+"\n          ")])]),n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary",disabled:!!t.countdownText},on:{click:t.send}},[t.countdownText?n("span",[t._v("\n              "+t._s(String(Math.floor(t.countdownText/1e3/60/60)).padStart(2,"0"))+":"+t._s(String(Math.floor(t.countdownText/1e3/60)).padStart(2,"0"))+":"+t._s(String(Math.floor(t.countdownText/1e3%60)).padStart(2,"0"))+"\n            ")]):n("span",[t._v(t._s(t.$t("myaccount.draw")))])]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},G=[],J={name:"Extract",mixins:[M["a"],P["a"]],data:function(){return{pledgeForm:{address:"",fee:1},countdownText:null}},computed:{rules:function(){return{address:[{required:!0,message:this.$t("myaccount.inputAddress"),trigger:"blur"}],value:[{required:!0,message:this.$t("myaccount.inputAmount"),trigger:"change"}]}}},created:function(){this.countdown()},beforeDestroy:function(){this.countdownTimeout&&clearTimeout(this.countdownTimeout)},methods:{submit:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm.fee,n={amountNQT:new R.a(this.formattedAccountOverview.totalUnpledged).times(B["a"].accuracy).toString(),publicKey:this.$store.state.account.publicKey,feeNQT:new R.a(e).times(B["a"].accuracy).toString(),deadline:B["a"].deadline},this.disabledSendButton=!0,t.prev=3,t.next=6,L["r"](n,L["c"].withdrawPledges);case 6:return a=t.sent,s=a.data,s=void 0===s?{}:s,i=s.unsignedTransactionBytes,r=s.transactionJSON,t.next=12,this.broadcastTransaction(i,r);case 12:this.isSubmit=!0,this.result="success",this.resultTitle=this.$t("myaccount.drawSuccessful"),t.next=23;break;case 17:t.prev=17,t.t0=t["catch"](3),this.isSubmit=!0,this.result="fail",this.resultTitle=this.$t("myaccount.drawFailed"),console.error(t.t0);case 23:return t.prev=23,this.disabledSendButton=!1,t.finish(23);case 26:case"end":return t.stop()}},t,this,[[3,17,23,26]])}));function e(){return t.apply(this,arguments)}return e}(),countdown:function(){var t=this,e=this.$vmoment(this.formattedAccountOverview.withdrawTime).isAfter(this.$moment());e?(this.countdownText=this.$vmoment(this.formattedAccountOverview.withdrawTime).diff(this.$moment()),this.countdownTimeout=setTimeout(function(){t.countdown()},1e3)):(this.countdownText=null,this.countdownTimeout&&clearTimeout(this.countdownTimeout))}}},X=J,Y=(n("c6a7"),Object(v["a"])(X,W,G,!1,null,"04766709",null)),Z=Y.exports,tt=n("c13e"),et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("h4",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.setName")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.pledgeForm,rules:t.rules}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{size:"small",placeholder:"输入名称"},model:{value:t.pledgeForm.name,callback:function(e){t.$set(t.pledgeForm,"name",e)},expression:"pledgeForm.name"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("myaccount.name")))]),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.pledgeForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.pledgeForm.fee,callback:function(e){t.$set(t.pledgeForm,"fee",e)},expression:"pledgeForm.fee"}})],1)])],1),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.ok")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},nt=[],at={name:"Pledge",mixins:[M["a"],P["a"]],data:function(){return{pledgeForm:{name:"",fee:1},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]}}},computed:{formattedAccountOverview:function(){return this.$store.getters.formattedAccountOverview}},methods:{submit:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,i,r,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pledgeForm,n=e.name,a=e.fee,s={name:n,description:"",publicKey:this.$store.state.account.publicKey,feeNQT:new R.a(a).times(B["a"].accuracy).toString(),deadline:B["a"].deadline},console.log(s),this.disabledSendButton=!0,t.prev=4,t.next=7,L["r"](s,L["c"].setAccountInfo);case 7:return i=t.sent,r=i.data,r=void 0===r?{}:r,o=r.unsignedTransactionBytes,c=r.transactionJSON,t.next=13,this.broadcastTransaction(o,c);case 13:this.isSubmit=!0,this.result="success",this.resultTitle="设置名称成功",t.next=24;break;case 18:t.prev=18,t.t0=t["catch"](4),this.isSubmit=!0,this.result="fail",this.resultTitle="设置名称失败",console.error(t.t0);case 24:return t.prev=24,this.disabledSendButton=!1,t.finish(24);case 27:case"end":return t.stop()}},t,this,[[4,18,24,27]])}));function e(){return t.apply(this,arguments)}return e}()}},st=at,it=(n("8de4"),Object(v["a"])(st,et,nt,!1,null,"5d432a0f",null)),rt=it.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-content__wrap"},[t.isSubmit?n("Result",{attrs:{result:t.result,title:t.resultTitle},on:{close:t.hideModal}}):n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"dialog-content__title"},[t._v(t._s(t.$t("myaccount.send")))]),n("el-form",{ref:"sendForm",staticClass:"dialog-content__body",attrs:{model:t.sendForm}},[t._l(t.sendForm.recipients,function(e,a){return n("div",{key:a,staticClass:"vs-form-item__group"},[n("el-form-item",{staticClass:"recipients",attrs:{prop:"recipients."+a+".address",rules:t.rules.recipients.address}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.receiveAddress")},model:{value:e.address,callback:function(n){t.$set(e,"address",n)},expression:"recipient.address"}},[n("div",{attrs:{slot:"suffix"},slot:"suffix"})])],1),n("el-form-item",{staticClass:"vs-form-item__value",attrs:{prop:"recipients."+a+".value",rules:t.rules.recipients.value}},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.amount")},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"recipient.value"}},[1===t.sendForm.recipients.length?n("template",{slot:"append"},[n("span",{staticClass:"form-button--max",on:{click:function(e){return t.clickMaxButton(a)}}},[t._v("MAX")])]):t._e(),n("div",{attrs:{slot:"suffix"},slot:"suffix"})],2)],1),0===a?n("el-form-item",{staticClass:"icon-button",nativeOn:{click:function(e){return t.addRecipient(e)}}},[n("i",{staticClass:"el-icon-plus el-icon__button"})]):n("el-form-item",{staticClass:"icon-button",nativeOn:{click:function(e){return t.deleteRecipient(a)}}},[n("i",{staticClass:"el-icon-close el-icon__button"})])],1)}),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===t.sendForm.recipients.length,expression:"sendForm.recipients.length === 1"}]},[n("el-input",{attrs:{size:"small",placeholder:t.$t("myaccount.comment")},model:{value:t.sendForm.remark,callback:function(e){t.$set(t.sendForm,"remark",e)},expression:"sendForm.remark"}},[n("div",{attrs:{slot:"suffix"},slot:"suffix"})])],1),n("el-form-item",{staticClass:"el-form-item__slider",attrs:{prop:"fee"}},[n("div",{staticClass:"vs-form__item no-border"},[n("span",{staticClass:"vs-form__item--label"},[t._v(t._s(t.$t("myaccount.fee")))]),n("span",[t._v(t._s(t.sendForm.fee)+" VOL")])]),n("div",{staticClass:"vs-slider__wrapper"},[n("el-slider",{attrs:{min:.1,max:10},model:{value:t.sendForm.fee,callback:function(e){t.$set(t.sendForm,"fee",e)},expression:"sendForm.fee"}})],1)])],2),n("div",{staticClass:"dialog-content__footer"},[n("div",{staticClass:"vs-buttons"},[n("el-button",{attrs:{type:"danger",disabled:t.disabledSendButton},on:{click:t.send}},[t._v(t._s(t.$t("myaccount.send")))]),n("el-button",{attrs:{type:"info"},on:{click:t.hideModal}},[t._v(t._s(t.$t("myaccount.cancel")))])],1)])],1)],1)},ct=[],lt=n("aff9");function ut(){return{address:"",value:null}}var dt={name:"Send",mixins:[M["a"],P["a"]],data:function(){return{sendForm:{recipients:[ut()],fee:1,remark:""},rules:{recipients:{address:[{required:!0,message:"地址不能为空",trigger:"blur"}],value:[{required:!0,message:"数额不能为空",trigger:"blur"},{pattern:/^[0-9]+([.]{1}[0-9]+){0,1}$/,message:"请输入整数或者小数"}]}}}},computed:{sumValue:function(){var t=this.sendForm.recipients;return t.reduce(function(t,e){return t=t.plus(null===e.value?0:e.value),t},new R.a(0)).toString()},maxSliderVal:function(){return new R.a(this.formattedAccountOverview.balanceNQT).minus(this.sumValue).toNumber()}},methods:{addRecipient:function(){this.sendForm.recipients.push(ut())},deleteRecipient:function(t){this.sendForm.recipients=this.sendForm.recipients.filter(function(e,n){return n!==t})},submit:function(){var t=Object(F["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,i,r,o,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.sendForm,n=e.recipients,a=e.fee,s=e.remark,n=n.filter(function(t){return t.value>0}),i={publicKey:this.$store.state.account.publicKey,deadline:B["a"].deadline,feeNQT:new R.a(a).times(B["a"].accuracy).toString()},r=L["b"].sendMoney,n.length>1?n.every(function(t){return t.value===n[0].value})?(r=L["b"].sendMoneyMultiSame,i.amountNQT=new R.a(n[0].value).times(B["a"].accuracy).toString(),i.recipients=n.map(function(t){return lt["a"].createAccountIdByAddress(t.address)}).join(";")):(r=L["b"].sendMoneyMulti,i.recipients=n.map(function(t){return"".concat(lt["a"].createAccountIdByAddress(t.address),":").concat(new R.a(t.value).times(B["a"].accuracy).toString())}).join(";")):(s&&(i.message=s,i.messageIsText=!0),i.amountNQT=new R.a(n[0].value).times(B["a"].accuracy).toString(),i.recipient=n[0].address),this.disabledSendButton=!0,t.prev=6,t.next=9,L["t"](i,r);case 9:return o=t.sent,c=o.data,c=void 0===c?{}:c,l=c.unsignedTransactionBytes,t.next=15,this.broadcastTransaction(l);case 15:this.isSubmit=!0,this.result="success",this.resultTitle="转账成功",t.next=26;break;case 20:t.prev=20,t.t0=t["catch"](6),this.isSubmit=!0,this.result="fail",this.resultTitle="转账失败",console.error(t.t0);case 26:return t.prev=26,this.disabledSendButton=!1,t.finish(26);case 29:case"end":return t.stop()}},t,this,[[6,20,26,29]])}));function e(){return t.apply(this,arguments)}return e}(),clickMaxButton:function(t){var e=this.sendForm,n=e.recipients,a=e.fee,s=n.filter(function(e,n){return n!==t}),i=s.reduce(function(t,e){return t=t.plus(null===e.value?0:e.value),t},new R.a(0)).toString();this.sendForm.recipients[t].value=new R.a(this.formattedAccountOverview.balanceNQT).minus(a).minus(i).toString()}}},mt=dt,pt=(n("b095"),Object(v["a"])(mt,ot,ct,!1,null,"92add942",null)),ft=pt.exports,vt=n("f195"),_t="PLEDGE",ht="RELEASE_PLEDGE",bt="AVAILABLE",gt="SEND",yt="RECEIVE",wt="SET_NAME",Ct={Pledge:"Pledge",Received:"Received",Send:"Send",UnPledge:"UnPledge",Extract:"Extract",SetName:"SetName"},Tt={name:"MyAccount",components:{Send:ft,Pledge:z,UnPledge:H,Extract:Z,Received:tt["a"],SetName:rt,MyAccountTransitions:O["a"],MyAccountOverviewLeft:h,MyAccountOverviewRight:x},data:function(){return{isShowPledgeDialog:!1,currentPledgeComponent:Ct.Pledge}},computed:{isMobile:function(){return Object(C["a"])()},balance:function(){var t;return t={},Object(i["a"])(t,bt,{key:bt,name:this.$t("myaccount.available"),btnLabel:this.$t("myaccount.stake"),value:this.$store.getters.formattedAccountOverview.balanceNQT}),Object(i["a"])(t,_t,{key:_t,name:this.$t("myaccount.staked"),btnLabel:this.$t("myaccount.unstake"),value:this.$store.getters.formattedAccountOverview.totalPledged}),Object(i["a"])(t,ht,{key:ht,name:this.$t("myaccount.unstaking"),btnLabel:this.$t("myaccount.draw"),value:this.$store.getters.formattedAccountOverview.totalUnpledged}),t},pledgeDialogWidth:function(){return Object(C["a"])()?"100%":[Ct.Pledge,Ct.UnPledge,Ct.Extract,Ct.Received].includes(this.currentPledgeComponent)?"380px":"466px"}},created:function(){vt["a"].$on("transaction",this.clickLeftButton)},mounted:function(){var t=this.$route.query.action;this.clickLeftButton(t)},beforeDestroy:function(){vt["a"].$off("transaction")},methods:{handleBalance:function(t){switch(console.log("item.key =>",t.key),console.log(t),t.key){case _t:this.currentPledgeComponent=Ct.UnPledge;break;case ht:this.currentPledgeComponent=Ct.Extract;break;case bt:this.currentPledgeComponent=Ct.Pledge;break}this.isShowPledgeDialog=!0},clickLeftButton:function(t){switch(t){case gt:this.currentPledgeComponent=Ct.Send,this.isShowPledgeDialog=!0;break;case yt:this.currentPledgeComponent=Ct.Received,this.isShowPledgeDialog=!0;break;case wt:this.currentPledgeComponent=Ct.SetName,this.isShowPledgeDialog=!0;break}},pledge:function(){}}},$t=Tt,St=(n("4850"),Object(v["a"])($t,a,s,!1,null,"41ee8251",null)),kt=St.exports;e["default"]=kt},e448:function(t,e,n){},ec66:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);